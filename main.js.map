{
  "version": 3,
  "sources": ["../src/core/commands.ts", "../src/data/fs.ts", "../src/core/terminal.ts", "../src/data/profile.ts", "../src/services/openUrl.ts", "../src/services/prompt.ts", "../src/services/theme.ts", "../src/services/toast.ts", "../src/ui/domRenderer.ts", "../src/ui/quickLinks.ts", "../src/main.ts"],
  "sourcesContent": ["import type { Profile } from \"../data/profile.js\";\nimport type { Context } from \"./terminal\";\n\nexport interface CompletionRequest {\n\tline: string;\n\ttokens: string[];\n\targs: string[];\n\tendsWithWhitespace: boolean;\n\targIndex: number;\n\tprefix: string;\n}\n\ninterface Command {\n\tname: string;\n\tsummary: string;\n\tusage: string;\n\texecute: (ctx: Context, args: string[]) => void | Promise<void>;\n\tcomplete?: (ctx: Context, req: CompletionRequest) => string[];\n}\n\nexport type Commands = Map<string, Command>;\n\nexport function buildOpenAliasMap(profile: Profile) {\n\tconst aliases = new Map<string, string>();\n\n\tif (profile.links.github) aliases.set(\"github\", profile.links.github);\n\tif (profile.links.linkedin) aliases.set(\"linkedin\", profile.links.linkedin);\n\n\tif (profile.filePaths.cv) aliases.set(\"cv\", profile.filePaths.cv);\n\tif (profile.filePaths.dissertation)\n\t\taliases.set(\"dissertation\", profile.filePaths.dissertation);\n\tif (profile.email) aliases.set(\"email\", `mailto:${profile.email}`);\n\n\treturn aliases;\n}\n\nexport function createCommandRegistry({ profile }: { profile: Profile }) {\n\tconst commands: Commands = new Map();\n\n\tconst cmd = (\n\t\tname: string,\n\t\tsummary: string,\n\t\tusage: string,\n\t\texecute: (ctx: Context, args: string[]) => void | Promise<void>,\n\t\tcomplete?: (ctx: Context, req: CompletionRequest) => string[],\n\t) => {\n\t\tcommands.set(name, { name, summary, usage, execute, complete });\n\t};\n\n\tcmd(\"help\", \"Show this help\", \"help\", (ctx) => {\n\t\tconst { s } = ctx.seg;\n\t\tctx.printLine([s(\"accent\", \"Available commands\")], \"ok\");\n\n\t\tconst rows = Array.from(commands.values())\n\t\t\t.sort((a, b) => a.name.localeCompare(b.name))\n\t\t\t.map(\n\t\t\t\t(c) =>\n\t\t\t\t\t`${c.name.padEnd(12, \" \")} ${c.summary.padEnd(32, \" \")} ${c.usage}`,\n\t\t\t);\n\n\t\tconst lines = [\n\t\t\t`${\"COMMAND\".padEnd(12, \" \")} ${\"SUMMARY\".padEnd(32, \" \")} USAGE`,\n\t\t\t\"\",\n\t\t\t...rows,\n\t\t\t\"\",\n\t\t\t\"Tips: use \u2191/\u2193 for history, Tab for autocomplete (Shift+Tab to move focus).\",\n\t\t];\n\n\t\tctx.printPre(lines.join(\"\\n\"), \"ok\");\n\t});\n\n\tcmd(\"clear\", \"Clear the screen\", \"clear\", (ctx) => ctx.clear());\n\n\tcmd(\"whoami\", \"About me\", \"whoami\", (ctx) => {\n\t\tctx.printLine(\n\t\t\t`${String(profile.name)} \u2014 ${String(profile.role)} (${String(profile.location)})`,\n\t\t);\n\t});\n\n\tcmd(\"date\", \"Print local date/time\", \"date\", (ctx) => {\n\t\tctx.printLine(new Date().toString(), \"muted\");\n\t});\n\n\tcmd(\"echo\", \"Print args\", \"echo <text>\", (ctx, args) => {\n\t\tctx.printLine(args.join(\" \"));\n\t});\n\n\tcmd(\"ls\", \"List files (only ~ supported)\", \"ls [path]\", (ctx, args) => {\n\t\tconst path = args[0] ?? \"~\";\n\t\tif (path !== \"~\") {\n\t\t\tctx.printLine(\n\t\t\t\t'ls: only \"~\" is supported in this tiny filesystem',\n\t\t\t\t\"error\",\n\t\t\t);\n\t\t\treturn;\n\t\t}\n\t\tctx.printPre(ctx.listHome().join(\"\\n\"), \"ok\");\n\t});\n\n\tcmd(\n\t\t\"cat\",\n\t\t\"Print file contents\",\n\t\t\"cat <file>\",\n\t\t(ctx, args) => {\n\t\t\tconst { t, l, s } = ctx.seg;\n\t\t\tconst name = args[0];\n\t\t\tif (!name) {\n\t\t\t\tctx.printLine(\"cat: missing file operand\", \"error\");\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tconst item = ctx.resolveHomeItem(name);\n\t\t\tif (!item) {\n\t\t\t\tctx.printLine(`cat: ${name}: No such file`, \"error\");\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tif (item.type === \"file\") {\n\t\t\t\tctx.printPre(String(item.content), \"ok\");\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tif (item.type === \"link\") {\n\t\t\t\tctx.printLine(\n\t\t\t\t\t[\n\t\t\t\t\t\tt(`${name} -> `),\n\t\t\t\t\t\tl(item.href),\n\t\t\t\t\t\tt(\" (click me! or run \"),\n\t\t\t\t\t\ts(\"accent\", `open ${name}`),\n\t\t\t\t\t\tt(\")\"),\n\t\t\t\t\t],\n\t\t\t\t\t\"muted\",\n\t\t\t\t);\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tif (item.type === \"links\") {\n\t\t\t\tconst padOnly = (str: string, targetLen: number) =>\n\t\t\t\t\t\" \".repeat(Math.max(0, targetLen - str.length));\n\n\t\t\t\tconst entries = Object.entries(item.items).flatMap(([key, href]) => [\n\t\t\t\t\tt(`${key}: `.padEnd(10, \" \")),\n\t\t\t\t\tl(href, key),\n\t\t\t\t\tt(padOnly(key, 10)),\n\t\t\t\t\tt(\" (or run \"),\n\t\t\t\t\ts(\"accent\", `open ${key}`),\n\t\t\t\t\tt(\")\\n\"),\n\t\t\t\t]);\n\t\t\t\tctx.printLine(entries, \"muted\");\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tctx.printLine(`cat: ${name}: Not a file`, \"error\");\n\t\t},\n\t\t(ctx, req) => {\n\t\t\t// only complete first argument\n\t\t\tif (req.argIndex !== 0) return [];\n\n\t\t\tconst candidates = ctx\n\t\t\t\t.listHome()\n\t\t\t\t.filter(\n\t\t\t\t\t(entry: string) =>\n\t\t\t\t\t\tctx.resolveHomeItem(entry)?.type === \"file\" ||\n\t\t\t\t\t\tctx.resolveHomeItem(entry)?.type === \"link\" ||\n\t\t\t\t\t\tctx.resolveHomeItem(entry)?.type === \"links\",\n\t\t\t\t);\n\n\t\t\tconst p = (req.prefix ?? \"\").toLowerCase();\n\t\t\treturn candidates\n\t\t\t\t.filter((c) => String(c).toLowerCase().startsWith(p))\n\t\t\t\t.sort();\n\t\t},\n\t);\n\n\tcmd(\n\t\t\"open\",\n\t\t\"Open link\",\n\t\t\"open <alias>\",\n\t\t(ctx, args) => {\n\t\t\tconst { t, l } = ctx.seg;\n\t\t\tconst targetRaw = args[0];\n\t\t\tconst target = (targetRaw ?? \"\").toLowerCase();\n\n\t\t\tif (!target) {\n\t\t\t\tctx.printLine(\n\t\t\t\t\t\"open: missing target (press Tab to see valid options)\",\n\t\t\t\t\t\"error\",\n\t\t\t\t);\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tconst alias = buildOpenAliasMap(ctx.profile);\n\t\t\tif (alias.has(target)) {\n\t\t\t\tconst url = alias.get(target);\n\t\t\t\tif (url) {\n\t\t\t\t\tctx.printLine([t(\"Opening: \"), l(url)], \"muted\");\n\t\t\t\t\tctx.openUrl(url);\n\t\t\t\t}\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tctx.printLine(`open: unknown target \"${targetRaw}\"`, \"error\");\n\t\t},\n\t\t(ctx, req) => {\n\t\t\t// only complete first argument\n\t\t\tif (req.argIndex !== 0) return [];\n\n\t\t\tconst alias = buildOpenAliasMap(ctx.profile);\n\t\t\tconst candidates = [...alias.keys()];\n\n\t\t\tconst p = (req.prefix ?? \"\").toLowerCase();\n\n\t\t\treturn Array.from(new Set(candidates))\n\t\t\t\t.filter((c) => String(c).toLowerCase().startsWith(p))\n\t\t\t\t.sort();\n\t\t},\n\t);\n\n\tcmd(\"bio\", \"Alias: cat bio.txt\", \"bio\", (ctx) =>\n\t\tcommands.get(\"cat\")?.execute(ctx, [\"bio.txt\"]),\n\t);\n\tcmd(\"projects\", \"Alias: cat projects.txt\", \"projects\", (ctx) =>\n\t\tcommands.get(\"cat\")?.execute(ctx, [\"projects.txt\"]),\n\t);\n\tcmd(\"socials\", \"Alias: cat socials.txt\", \"socials\", (ctx) =>\n\t\tcommands.get(\"cat\")?.execute(ctx, [\"socials.txt\"]),\n\t);\n\tcmd(\"cv\", \"Alias: open cv\", \"cv\", (ctx) =>\n\t\tcommands.get(\"open\")?.execute(ctx, [\"cv\"]),\n\t);\n\tcmd(\"skills\", \"List my skills\", \"skills\", (ctx) =>\n\t\tcommands.get(\"cat\")?.execute(ctx, [\"skills.txt\"]),\n\t);\n\tcmd(\"roles\", \"List my roles and experience\", \"roles\", (ctx) =>\n\t\tcommands.get(\"cat\")?.execute(ctx, [\"roles.txt\"]),\n\t);\n\n\tcmd(\n\t\t\"theme\",\n\t\t\"Switch theme\",\n\t\t\"theme [dark|light|toggle]\",\n\t\t(ctx, args) => {\n\t\t\tconst next = (args[0] ?? \"\").toLowerCase();\n\t\t\tconst current = ctx.theme.get();\n\n\t\t\tif (!next) {\n\t\t\t\tctx.printLine(`theme: current is \"${current}\"`, \"muted\");\n\t\t\t\tctx.printLine(\"Try: theme dark | theme light | theme toggle\", \"muted\");\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tif (next === \"toggle\") {\n\t\t\t\tctx.theme.toggle();\n\t\t\t\tctx.printLine(`theme: set to \"${ctx.theme.get()}\"`, \"muted\");\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tif (next !== \"dark\" && next !== \"light\") {\n\t\t\t\tctx.printLine('theme: expected \"dark\" or \"light\"', \"error\");\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tctx.theme.set(next);\n\t\t\tctx.printLine(`theme: set to \"${next}\"`, \"muted\");\n\t\t},\n\t\t(_, req) => {\n\t\t\t// only complete first argument\n\t\t\tif (req.argIndex !== 0) return [];\n\n\t\t\tconst candidates = [\"dark\", \"light\", \"toggle\"];\n\n\t\t\tconst p = (req.prefix ?? \"\").toLowerCase();\n\n\t\t\treturn Array.from(new Set(candidates))\n\t\t\t\t.filter((c) => String(c).toLowerCase().startsWith(p))\n\t\t\t\t.sort();\n\t\t},\n\t);\n\n\treturn { commands };\n}\n", "import type { Profile } from \"./profile.js\";\n\ntype FsNode =\n\t| { type: \"dir\"; children: Record<string, FsNode> }\n\t| { type: \"file\"; content: string }\n\t| { type: \"link\"; href: string }\n\t| { type: \"links\"; items: Record<string, string> };\n\nexport type FileSystem = Record<string, FsNode>;\n\nexport function buildFs(profile: Profile): FileSystem {\n\treturn {\n\t\t\"~\": {\n\t\t\ttype: \"dir\",\n\t\t\tchildren: {\n\t\t\t\t\"README.txt\": {\n\t\t\t\t\ttype: \"file\",\n\t\t\t\t\tcontent: [\n\t\t\t\t\t\t\"Welcome.\",\n\t\t\t\t\t\t\"\",\n\t\t\t\t\t\t\"Try: help, ls, cat README.txt, bio, projects, socials, open cv, open github\",\n\t\t\t\t\t].join(\"\\n\"),\n\t\t\t\t},\n\t\t\t\t\"bio.txt\": {\n\t\t\t\t\ttype: \"file\",\n\t\t\t\t\tcontent: profile.bio.join(\"\\n\"),\n\t\t\t\t},\n\t\t\t\t\"projects.txt\": {\n\t\t\t\t\ttype: \"file\",\n\t\t\t\t\tcontent: profile.projects\n\t\t\t\t\t\t.map(\n\t\t\t\t\t\t\t(p) =>\n\t\t\t\t\t\t\t\t`- ${p.name}\\n  ${p.desc}\\n  ${p.link}\\n  tags: ${p.tags.join(\", \")}`,\n\t\t\t\t\t\t)\n\t\t\t\t\t\t.join(\"\\n\\n\"),\n\t\t\t\t},\n\t\t\t\t\"socials.txt\": {\n\t\t\t\t\ttype: \"links\",\n\t\t\t\t\titems: profile.links,\n\t\t\t\t},\n\t\t\t\t\"skills.txt\": {\n\t\t\t\t\ttype: \"file\",\n\t\t\t\t\tcontent: profile.skills.join(\", \"),\n\t\t\t\t},\n\t\t\t\t\"roles.txt\": {\n\t\t\t\t\ttype: \"file\",\n\t\t\t\t\tcontent: profile.roles\n\t\t\t\t\t\t.map((r) => {\n\t\t\t\t\t\t\tconst title = r.title ?? \"Untitled Role\";\n\t\t\t\t\t\t\tconst company = r.company ? ` at ${r.company}` : \"\";\n\t\t\t\t\t\t\tconst location = r.location ? ` in ${r.location}` : \"\";\n\t\t\t\t\t\t\tconst dates = ` (${r.startDate} - ${r.endDate ?? \"Present\"})`;\n\t\t\t\t\t\t\tconst desc = r.description ? `\\n  ${r.description}` : \"\";\n\t\t\t\t\t\t\treturn `- ${title}${company}${location}${dates}${desc}`;\n\t\t\t\t\t\t})\n\t\t\t\t\t\t.join(\"\\n\\n\"),\n\t\t\t\t},\n\t\t\t\t\"cv.pdf\": {\n\t\t\t\t\ttype: \"link\",\n\t\t\t\t\thref: profile.filePaths.cv,\n\t\t\t\t},\n\t\t\t\t\"dissertation.pdf\": {\n\t\t\t\t\ttype: \"link\",\n\t\t\t\t\thref: profile.filePaths.dissertation,\n\t\t\t\t},\n\t\t\t\t\"todo.md\": {\n\t\t\t\t\ttype: \"file\",\n\t\t\t\t\tcontent: profile.todo.map((t) => `- [ ] ${t}`).join(\"\\n\"),\n\t\t\t\t},\n\t\t\t},\n\t\t},\n\t};\n}\n\nexport function getHomeDir(fs: FileSystem) {\n\tconst home = fs[\"~\"];\n\tif (!home || home.type !== \"dir\") {\n\t\tthrow new Error(\"Invalid filesystem: missing home dir\");\n\t}\n\treturn home;\n}\n\nexport function listHome(fs: FileSystem) {\n\tconst children = Object.keys(getHomeDir(fs).children);\n\treturn children.sort();\n}\n\nexport function resolveHomeItem(fs: FileSystem, name: string) {\n\treturn getHomeDir(fs).children[name];\n}\n", "import {\n\ttype FileSystem,\n\tlistHome as listHomeFs,\n\tresolveHomeItem as resolveHomeItemFs,\n} from \"../data/fs.js\";\nimport type { Profile } from \"../data/profile\";\nimport type { ThemeController } from \"../services/theme\";\nimport type { Renderer } from \"../ui/domRenderer\";\nimport type { Commands } from \"./commands\";\n\ntype TextSeg = { type: \"text\"; text: string };\ntype SpanSeg = { type: \"span\"; className: string; text: string };\ntype LinkSeg = { type: \"link\"; href: string; text?: string };\nexport type Segment = TextSeg | SpanSeg | LinkSeg;\n\ninterface Completion {\n\tkind: string;\n\tbaseInput: string;\n\tphase: string;\n\tprefix: string;\n\tmatchesKey: string;\n\tvalues: string[];\n\tindex: number;\n\tlastValue: string | null;\n}\n\nexport interface Context {\n\tprofile: Profile;\n\tfs: FileSystem;\n\ttheme: ThemeController;\n\topenUrl: (href: string | URL) => void;\n\tprintLine: (content: string | Segment[], className?: string) => void;\n\tprintPre: (text: string, className?: string) => void;\n\tseg: { t: typeof t; s: typeof s; l: typeof l };\n\tlistHome: () => string[];\n\tresolveHomeItem: (\n\t\tname: string,\n\t) => ReturnType<typeof resolveHomeItemFs> | null;\n\tclear: () => void;\n}\n\nconst t = (text: string): TextSeg => ({ type: \"text\", text });\nconst s = (className: string, text: string): SpanSeg => ({\n\ttype: \"span\",\n\tclassName,\n\ttext,\n});\nconst l = (href: string, text?: string | undefined): LinkSeg => ({\n\ttype: \"link\",\n\thref,\n\ttext,\n});\n\nexport function createTerminal({\n\trenderer,\n\tprofile,\n\tfs,\n\tcommands,\n\topenUrl,\n\ttheme,\n}: {\n\trenderer: Renderer;\n\tprofile: Profile;\n\tfs: FileSystem;\n\tcommands: Commands;\n\topenUrl: (href: string | URL) => void;\n\ttheme: ThemeController;\n}) {\n\tconst state: {\n\t\thistory: string[];\n\t\thistoryIndex: number;\n\t\tcompletion: Completion | null;\n\t\thasRunCommand: boolean;\n\t\thasBooted: boolean;\n\t} = {\n\t\thistory: [],\n\t\thistoryIndex: -1,\n\t\tcompletion: null,\n\t\thasRunCommand: false,\n\t\thasBooted: false,\n\t};\n\n\tfunction boot() {\n\t\tstate.hasBooted = true;\n\t\trenderIntro();\n\t}\n\n\tfunction renderIntro() {\n\t\trenderer.clear();\n\t\tprintBanner();\n\t\tprintLine(\n\t\t\t[t(\"Type \"), s(\"accent\", \"help\"), t(\" to see commands.\")],\n\t\t\t\"muted\",\n\t\t);\n\t\trenderer.scrollToBottom();\n\t}\n\n\tfunction refreshIntroIfPristine() {\n\t\tif (!state.hasBooted || state.hasRunCommand) return;\n\t\trenderIntro();\n\t}\n\n\tfunction maxLineLength(lines: string[]) {\n\t\treturn lines.reduce(\n\t\t\t(max, line) => Math.max(max, Array.from(line).length),\n\t\t\t0,\n\t\t);\n\t}\n\n\tfunction printBanner() {\n\t\tconst artLines = profile.nameAsciiArt ?? [];\n\t\tconst artWidth = maxLineLength(artLines);\n\t\tconst availableColumns = renderer.getColumns();\n\n\t\tif (artLines.length > 0 && artWidth <= availableColumns) {\n\t\t\tprintPre(artLines.join(\"\\n\"), \"accent\");\n\t\t\tprintLine(profile.role, \"muted\");\n\t\t\treturn;\n\t\t}\n\n\t\tprintBoxBanner();\n\t}\n\n\tfunction printBoxBanner() {\n\t\tconst name = String(profile.name);\n\t\tconst role = String(profile.role);\n\n\t\tconst contentWidth = Math.max(name.length, role.length, 10);\n\t\tconst innerWidth = clamp(contentWidth + 2, 30, 54);\n\n\t\tconst top = `\u250C${\"\u2500\".repeat(innerWidth + 2)}\u2510`;\n\t\tconst bottom = `\u2514${\"\u2500\".repeat(innerWidth + 2)}\u2518`;\n\t\tconst line = (text: string) => `\u2502  ${text.padEnd(innerWidth, \" \")}\u2502`;\n\n\t\tconst banner = [top, line(name), line(role), bottom].join(\"\\n\");\n\t\tprintPre(banner, \"ok\");\n\t}\n\n\tfunction clamp(n: number, min: number, max: number) {\n\t\treturn Math.max(min, Math.min(max, n));\n\t}\n\n\tfunction printLine(content: string | Segment[], className = \"ok\") {\n\t\tconst segments = Array.isArray(content) ? content : [t(String(content))];\n\t\trenderer.printLine(segments, className);\n\t}\n\n\tfunction printPre(text: string, className = \"ok\") {\n\t\trenderer.printPre(String(text), className);\n\t}\n\n\tfunction printCmd(cmd: string) {\n\t\tprintLine([s(\"cmd\", \"$\"), t(\" \"), s(\"cmd\", cmd)], \"cmd\");\n\t}\n\n\tfunction listHome() {\n\t\treturn listHomeFs(fs);\n\t}\n\n\tfunction resolveHomeItem(name: string) {\n\t\treturn resolveHomeItemFs(fs, name);\n\t}\n\n\tfunction buildContext(): Context {\n\t\treturn {\n\t\t\tprofile,\n\t\t\tfs,\n\t\t\ttheme,\n\t\t\topenUrl,\n\t\t\tprintLine,\n\t\t\tprintPre,\n\t\t\tseg: { t, s, l },\n\t\t\tlistHome,\n\t\t\tresolveHomeItem,\n\t\t\tclear: renderer.clear,\n\t\t};\n\t}\n\n\tasync function run(inputLine: string) {\n\t\tconst line = inputLine.trim();\n\t\tif (!line) return;\n\t\tstate.hasRunCommand = true;\n\n\t\tprintCmd(line);\n\n\t\tconst parsed = tokeniseWithMeta(line);\n\t\tconst [cmd, ...args] = parsed.tokens;\n\t\tconst command = commands.get(cmd);\n\n\t\tif (!command) {\n\t\t\tprintLine([t(\"Command not found: \"), s(\"error\", cmd)], \"error\");\n\t\t\tprintLine([t(\"Try: \"), s(\"accent\", \"help\")], \"muted\");\n\t\t\treturn;\n\t\t}\n\n\t\ttry {\n\t\t\tawait command.execute(buildContext(), args);\n\t\t} catch (err) {\n\t\t\tconst message = err instanceof Error ? err.message : String(err);\n\t\t\tprintLine([s(\"error\", \"Error:\"), t(\" \"), t(message)], \"error\");\n\t\t}\n\t}\n\n\tfunction tokeniseWithMeta(line: string) {\n\t\tconst tokens: string[] = [];\n\t\tlet cur = \"\";\n\t\tlet quote: \"'\" | '\"' | null = null;\n\t\tlet escaping = false;\n\n\t\tfor (let i = 0; i < line.length; i++) {\n\t\t\tconst ch = line[i];\n\n\t\t\tif (escaping) {\n\t\t\t\tcur += ch;\n\t\t\t\tescaping = false;\n\t\t\t\tcontinue;\n\t\t\t}\n\n\t\t\tif (ch === \"\\\\\") {\n\t\t\t\tescaping = true;\n\t\t\t\tcontinue;\n\t\t\t}\n\n\t\t\tif (quote) {\n\t\t\t\tif (ch === quote) {\n\t\t\t\t\tquote = null;\n\t\t\t\t\tcontinue;\n\t\t\t\t}\n\t\t\t\tcur += ch;\n\t\t\t\tcontinue;\n\t\t\t}\n\n\t\t\tif (ch === '\"' || ch === \"'\") {\n\t\t\t\tquote = ch;\n\t\t\t\tcontinue;\n\t\t\t}\n\n\t\t\tif (/\\s/.test(ch)) {\n\t\t\t\tif (cur) {\n\t\t\t\t\ttokens.push(cur);\n\t\t\t\t\tcur = \"\";\n\t\t\t\t}\n\t\t\t\tcontinue;\n\t\t\t}\n\n\t\t\tcur += ch;\n\t\t}\n\n\t\tif (escaping) cur += \"\\\\\";\n\t\tif (cur) tokens.push(cur);\n\n\t\treturn {\n\t\t\ttokens,\n\t\t\tendsWithWhitespace: /\\s$/.test(line),\n\t\t\tunterminatedQuote: quote,\n\t\t};\n\t}\n\n\tfunction addHistory(line: string) {\n\t\tstate.history.push(line);\n\t\tstate.historyIndex = state.history.length;\n\t}\n\n\tfunction historyUp() {\n\t\tif (state.history.length === 0) return null;\n\t\tstate.historyIndex = Math.max(0, state.historyIndex - 1);\n\t\treturn state.history[state.historyIndex] ?? \"\";\n\t}\n\n\tfunction historyDown() {\n\t\tif (state.history.length === 0) return null;\n\t\tstate.historyIndex = Math.min(state.history.length, state.historyIndex + 1);\n\t\treturn state.history[state.historyIndex] ?? \"\";\n\t}\n\n\tfunction autocomplete(current: string) {\n\t\tconst parsed = tokeniseWithMeta(current);\n\n\t\tif (state.completion?.phase === \"menu\") {\n\t\t\tconst c = state.completion;\n\t\t\tconst i = c.values.indexOf(current);\n\t\t\tif (i !== -1) {\n\t\t\t\tconst nextIndex = (i + 1) % c.values.length;\n\t\t\t\tc.index = nextIndex;\n\t\t\t\tc.lastValue = c.values[nextIndex];\n\t\t\t\treturn c.lastValue;\n\t\t\t}\n\t\t\tstate.completion = null;\n\t\t}\n\n\t\tconst { tokens, endsWithWhitespace } = parsed;\n\n\t\tif (tokens.length === 0) return \"\";\n\n\t\tconst commandNames = Array.from(commands.keys()).sort() as string[];\n\n\t\tif (tokens.length === 1 && !endsWithWhitespace) {\n\t\t\tconst prefix = tokens[0];\n\t\t\tconst matches = commandNames.filter((c) => c.startsWith(prefix));\n\t\t\treturn (\n\t\t\t\tapplyMatches(\"cmd\", current, prefix, matches, (choice) => choice) ??\n\t\t\t\tcurrent\n\t\t\t);\n\t\t}\n\n\t\tconst cmdName = tokens[0];\n\t\tconst command = commands.get(cmdName);\n\t\tif (!command?.complete) return current;\n\n\t\tconst args = tokens.slice(1);\n\t\tconst prefix = endsWithWhitespace ? \"\" : (args[args.length - 1] ?? \"\");\n\n\t\tconst argIndex = endsWithWhitespace\n\t\t\t? args.length\n\t\t\t: Math.max(0, args.length - 1);\n\n\t\tconst req = {\n\t\t\tline: current,\n\t\t\ttokens,\n\t\t\targs,\n\t\t\tendsWithWhitespace,\n\t\t\targIndex,\n\t\t\tprefix,\n\t\t};\n\n\t\tconst candidates = command.complete(buildContext(), req) || [];\n\n\t\treturn (\n\t\t\tapplyMatches(\n\t\t\t\t`arg:${cmdName}`,\n\t\t\t\tcurrent,\n\t\t\t\tprefix,\n\t\t\t\tcandidates,\n\t\t\t\t(choice: string) => {\n\t\t\t\t\tconst baseTokens = endsWithWhitespace ? tokens : tokens.slice(0, -1);\n\t\t\t\t\treturn [...baseTokens, quoteIfNeeded(choice)].join(\" \");\n\t\t\t\t},\n\t\t\t) ?? current\n\t\t);\n\t}\n\n\tfunction quoteIfNeeded(value: string) {\n\t\treturn /\\s/.test(value) ? `\"${value.replace(/\"/g, '\\\\\"')}\"` : value;\n\t}\n\n\tfunction longestCommonPrefix(items: string[]) {\n\t\tif (items.length === 0) return \"\";\n\t\tlet p = items[0];\n\t\tfor (let i = 1; i < items.length; i++) {\n\t\t\tconst s = items[i];\n\t\t\tlet j = 0;\n\t\t\twhile (j < p.length && j < s.length && p[j] === s[j]) j++;\n\t\t\tp = p.slice(0, j);\n\t\t\tif (p === \"\") break;\n\t\t}\n\t\treturn p;\n\t}\n\n\tfunction makeMatchesKey(matches: string[]) {\n\t\treturn matches.join(\"\\0\");\n\t}\n\n\tfunction applyMatches(\n\t\tkind: string,\n\t\tcurrent: string,\n\t\tprefix: string,\n\t\tmatches: string[],\n\t\tbuildValue: (choice: string) => string,\n\t) {\n\t\tif (matches.length === 0) {\n\t\t\tstate.completion = null;\n\t\t\treturn null;\n\t\t}\n\n\t\tif (matches.length === 1) {\n\t\t\tstate.completion = null;\n\t\t\treturn buildValue(matches[0]);\n\t\t}\n\n\t\tconst matchesKey = makeMatchesKey(matches);\n\t\tconst common = longestCommonPrefix(matches);\n\n\t\tif (common.length > prefix.length) {\n\t\t\tconst nextValue = buildValue(common);\n\t\t\tstate.completion = {\n\t\t\t\tphase: \"armed\",\n\t\t\t\tkind,\n\t\t\t\tbaseInput: nextValue,\n\t\t\t\tprefix: common,\n\t\t\t\tmatchesKey,\n\t\t\t\tvalues: matches.map(buildValue),\n\t\t\t\tindex: -1,\n\t\t\t\tlastValue: null,\n\t\t\t};\n\t\t\treturn nextValue;\n\t\t}\n\n\t\tconst sameContext =\n\t\t\tstate.completion &&\n\t\t\tstate.completion.kind === kind &&\n\t\t\tstate.completion.baseInput === current &&\n\t\t\tstate.completion.prefix === prefix &&\n\t\t\tstate.completion.matchesKey === matchesKey;\n\n\t\tif (!sameContext) {\n\t\t\tstate.completion = {\n\t\t\t\tphase: \"armed\",\n\t\t\t\tkind,\n\t\t\t\tbaseInput: current,\n\t\t\t\tprefix,\n\t\t\t\tmatchesKey,\n\t\t\t\tvalues: matches.map(buildValue),\n\t\t\t\tindex: -1,\n\t\t\t\tlastValue: null,\n\t\t\t};\n\t\t\treturn null;\n\t\t}\n\n\t\tif (state.completion?.phase === \"armed\") {\n\t\t\tconst segs: Segment[] = [];\n\t\t\tmatches.forEach((m, i) => {\n\t\t\t\tif (i) segs.push(t(\"   \"));\n\t\t\t\tsegs.push(s(\"accent\", m));\n\t\t\t});\n\t\t\tprintLine(segs, \"muted\");\n\t\t\trenderer.scrollToBottom();\n\n\t\t\tstate.completion.phase = \"listed\";\n\t\t\treturn null;\n\t\t}\n\n\t\tif (state.completion?.phase === \"listed\") {\n\t\t\tconst first = state.completion?.values[0];\n\t\t\tstate.completion.phase = \"menu\";\n\t\t\tstate.completion.index = 0;\n\t\t\tstate.completion.lastValue = first;\n\t\t\treturn first;\n\t\t}\n\n\t\treturn null;\n\t}\n\n\treturn {\n\t\tboot,\n\t\trun,\n\t\taddHistory,\n\t\thistoryUp,\n\t\thistoryDown,\n\t\tautocomplete,\n\t\trefreshIntroIfPristine,\n\t};\n}\n", "export interface Profile {\n\tname: string;\n\tnameAsciiArt?: string[];\n\trole: string;\n\tlocation: string;\n\temail: string;\n\tlinks: Record<string, string>;\n\tfilePaths: {\n\t\tcv: string;\n\t\tdissertation: string;\n\t};\n\tbio: string[];\n\tprojects: {\n\t\tname: string;\n\t\tdesc: string;\n\t\tlink: string;\n\t\ttags: string[];\n\t}[];\n\tskills: string[];\n\troles: {\n\t\ttitle: string;\n\t\tcompany: string;\n\t\tlocation: string;\n\t\tstartDate: string;\n\t\tendDate?: string;\n\t\tdescription?: string;\n\t}[];\n\ttodo: string[];\n}\n\nexport const PROFILE: Profile = {\n\tname: \"Bradley Watson\",\n\tnameAsciiArt: [\n\t\t\"____________  ___ ______   _    _  ___ _____ _____  _____ _   _\",\n\t\t\"| ___ \\\\ ___ \\\\/ _ \\\\|  _  \\\\ | |  | |/ _ \\\\_   _/  ___||  _  | \\\\ | |\",\n\t\t\"| |_/ / |_/ / /_\\\\ \\\\ | | | | |  | / /_\\\\ \\\\| | \\\\ `--. | | | |  \\\\| |\",\n\t\t\"| ___ \\\\    /|  _  | | | | | |/\\\\| |  _  || |  `--. \\\\| | | | . ` |\",\n\t\t\"| |_/ / |\\\\ \\\\| | | | |/ /  \\\\  /\\\\  / | | || | /\\\\__/ /\\\\ \\\\_/ / |\\\\  |\",\n\t\t\"\\\\____/\\\\_| \\\\_\\\\_| |_/___/    \\\\/  \\\\/\\\\_| |_/\\\\_/ \\\\____/  \\\\___/\\\\_| \\\\_/\",\n\t],\n\trole: \"Software Engineer\",\n\tlocation: \"Leeds, UK\",\n\temail: \"you@example.com\", // TODO: make this my real email address\n\tlinks: {\n\t\tgithub: \"https://github.com/br-watson\",\n\t\tlinkedin: \"https://www.linkedin.com/in/bradleyrwatson\",\n\t},\n\tfilePaths: {\n\t\tcv: \"./assets/cv.pdf\",\n\t\tdissertation: \"./assets/diss.pdf\",\n\t},\n\tbio: [\n\t\t\"I build backend systems, pipelines, and cloud infrastructure.\",\n\t\t\"Current interests: TODO...\",\n\t\t\"This site is a small fake shell because normal portfolios are kinda boring.\",\n\t],\n\tprojects: [\n\t\t{\n\t\t\tname: \"Terminal Portfolio\",\n\t\t\tdesc: \"This project! A terminal-based portfolio website, built with TypeScript and HTML.\",\n\t\t\tlink: \"https://github.com/br-watson/br-watson.github.io\",\n\t\t\ttags: [\"TypeScript\", \"HTML\", \"CSS\"],\n\t\t},\n\t\t{\n\t\t\tname: \"TODO...\",\n\t\t\tdesc: \"Lorem ipsum dolor sit amet, consectetur adipiscing elit.\",\n\t\t\tlink: \"\",\n\t\t\ttags: [\"TODO...\"],\n\t\t},\n\t],\n\tskills: [\"TypeScript\", \"AWS\", \"TODO...\"],\n\troles: [\n\t\t{\n\t\t\ttitle: \"Software Engineer\",\n\t\t\tcompany: \"Sky UK\",\n\t\t\tlocation: \"Leeds, UK\",\n\t\t\tstartDate: \"Sep 2024\",\n\t\t\tdescription: \"TODO...\",\n\t\t},\n\t\t{\n\t\t\ttitle: \"Associate Software Engineer\",\n\t\t\tcompany: \"Sky UK\",\n\t\t\tlocation: \"Leeds, UK\",\n\t\t\tstartDate: \"Sep 2023\",\n\t\t\tendDate: \"Sep 2024\",\n\t\t\tdescription: \"TODO...\",\n\t\t},\n\t],\n\ttodo: [\n\t\t\"Finish writing profile (bio, experience, projects, skills etc.)\",\n\t\t\"Make projects links clickable\",\n\t\t\"Allow projects to have multiple links (or a git link and a deployment link)\",\n\t\t\"Add more commands\",\n\t\t\"Improve txt files output formatting\",\n\t\t\"Make actual CV\",\n\t\t\"Add education section\",\n\t\t\"Add way for mobile to access command history and autocomplete\",\n\t\t\"Make banner nicer on mobile\",\n\t\t\"Write README\",\n\t\t\"Make sure accessibility is good\",\n\t\t\"Make sure performance is good\",\n\t\t\"Add my actual email\",\n\t\t\"Write tests\",\n\t],\n};\n", "interface Toast {\n\tshow: (message: string | null) => void;\n}\n\nexport function createSafeOpener(toast: Toast) {\n\treturn function openUrlSafely(href: string | URL): void {\n\t\tconst allowedProtocols = new Set([\"https:\", \"mailto:\"]);\n\t\ttry {\n\t\t\tconst url = new URL(href, window.location.href);\n\t\t\tif (\n\t\t\t\t!allowedProtocols.has(url.protocol) &&\n\t\t\t\turl.origin !== window.location.origin\n\t\t\t) {\n\t\t\t\ttoast.show(\"Blocked unsafe URL\");\n\t\t\t\treturn;\n\t\t\t}\n\t\t} catch {\n\t\t\ttoast.show(\"Invalid URL\");\n\t\t\treturn;\n\t\t}\n\t\twindow.open(String(href), \"_blank\", \"noopener,noreferrer\");\n\t};\n}\n", "import type { Renderer } from \"../ui/domRenderer.js\";\n\ninterface TerminalLike {\n\taddHistory: (line: string) => void;\n\trun: (line: string) => Promise<void> | void;\n\thistoryUp: () => string | null;\n\thistoryDown: () => string | null;\n\tautocomplete: (value: string) => string;\n}\n\ninterface PromptOptions {\n\tform: HTMLFormElement;\n\tinput: HTMLInputElement;\n\tterminal: TerminalLike;\n\trenderer: Renderer;\n}\n\nexport function createPromptController({\n\tform,\n\tinput,\n\tterminal,\n\trenderer,\n}: PromptOptions) {\n\tfunction focus(): void {\n\t\tinput.focus({ preventScroll: true });\n\t}\n\n\tfunction moveCaretToEnd(): void {\n\t\trequestAnimationFrame(() => {\n\t\t\tinput.selectionStart = input.selectionEnd = input.value.length;\n\t\t});\n\t}\n\n\tform.addEventListener(\"submit\", async (e) => {\n\t\te.preventDefault();\n\t\tconst line = input.value;\n\t\tinput.value = \"\";\n\n\t\tif (line.trim()) {\n\t\t\tterminal.addHistory(line);\n\t\t\tawait terminal.run(line);\n\t\t}\n\t\trenderer.scrollToBottom();\n\t\tfocus();\n\t});\n\n\tinput.addEventListener(\"keydown\", (e) => {\n\t\tif (e.altKey || e.ctrlKey || e.metaKey) return;\n\n\t\tif (e.key === \"ArrowUp\") {\n\t\t\te.preventDefault();\n\t\t\tconst next = terminal.historyUp();\n\t\t\tif (next === null) return;\n\t\t\tinput.value = next;\n\t\t\tmoveCaretToEnd();\n\t\t}\n\n\t\tif (e.key === \"ArrowDown\") {\n\t\t\te.preventDefault();\n\t\t\tconst next = terminal.historyDown();\n\t\t\tif (next === null) return;\n\t\t\tinput.value = next;\n\t\t\tmoveCaretToEnd();\n\t\t}\n\n\t\tif (e.key === \"Tab\") {\n\t\t\tif (e.shiftKey) return;\n\t\t\te.preventDefault();\n\t\t\tinput.value = terminal.autocomplete(input.value);\n\t\t\tmoveCaretToEnd();\n\t\t}\n\t});\n\n\treturn { focus };\n}\n", "export type Theme = \"light\" | \"dark\";\n\ntype Toast = { show: (message: string | null) => void };\n\nexport interface ThemeController {\n\tget: () => Theme;\n\tset: (next: Theme) => void;\n\ttoggle: () => void;\n}\n\ninterface ThemeOptions {\n\tthemeToggle: HTMLElement | null;\n\ttoast: Toast;\n\tstorage?: Storage;\n\tdoc?: Document;\n\tmatchMedia?: Window[\"matchMedia\"];\n}\n\ninterface ApplyOptions {\n\tpersist?: boolean;\n\tannounce?: boolean;\n\tforce?: boolean;\n}\n\nconst THEME_KEY = \"terminal-theme\";\n\nfunction isTheme(value: string | null): value is Theme {\n\treturn value === \"light\" || value === \"dark\";\n}\n\nfunction normalizeTheme(value: string): Theme {\n\treturn value.toLowerCase() === \"light\" ? \"light\" : \"dark\";\n}\n\nfunction getOppositeTheme(theme: Theme): Theme {\n\treturn theme.toLowerCase() === \"light\" ? \"dark\" : \"light\";\n}\n\nexport function createThemeController({\n\tthemeToggle,\n\ttoast,\n\tstorage = window.localStorage,\n\tdoc = document,\n\tmatchMedia = window.matchMedia?.bind(window),\n}: ThemeOptions) {\n\tfunction getStoredTheme(): Theme | null {\n\t\tconst value: string | null = storage.getItem(THEME_KEY);\n\t\treturn isTheme(value) ? value : null;\n\t}\n\n\tfunction getPreferredTheme(): Theme {\n\t\tconst prefersLight = matchMedia?.(\"(prefers-color-scheme: light)\")?.matches;\n\t\treturn prefersLight ? \"light\" : \"dark\";\n\t}\n\n\tconst initialTheme: Theme = getStoredTheme() ?? getPreferredTheme();\n\tlet activeTheme: Theme = normalizeTheme(initialTheme);\n\n\tfunction applyTheme(next: Theme, options: ApplyOptions = {}): void {\n\t\tconst { persist = true, announce = true, force = false } = options;\n\t\tconst theme = normalizeTheme(next);\n\t\tconst changed = theme !== activeTheme;\n\t\tactiveTheme = theme;\n\n\t\tif (changed || force) {\n\t\t\tdoc.documentElement.dataset.theme = theme;\n\t\t\tif (themeToggle) {\n\t\t\t\tconst nextLabel = getOppositeTheme(theme);\n\t\t\t\tthemeToggle.setAttribute(\"aria-pressed\", String(theme === \"light\"));\n\t\t\t\tthemeToggle.setAttribute(\n\t\t\t\t\t\"aria-label\",\n\t\t\t\t\t`Switch to ${nextLabel.toLowerCase()} theme`,\n\t\t\t\t);\n\t\t\t\tthemeToggle.textContent = nextLabel;\n\t\t\t}\n\t\t}\n\n\t\tif (persist) storage.setItem(THEME_KEY, theme);\n\t\tif (announce && changed) toast.show(`theme: ${theme}`);\n\t}\n\n\tconst controller: ThemeController = {\n\t\tget: () => activeTheme,\n\t\tset: (next: Theme) => applyTheme(next, { persist: true, announce: true }),\n\t\ttoggle: () =>\n\t\t\tapplyTheme(getOppositeTheme(activeTheme), {\n\t\t\t\tpersist: true,\n\t\t\t\tannounce: true,\n\t\t\t}),\n\t};\n\n\tif (themeToggle) {\n\t\tthemeToggle.addEventListener(\"click\", () => controller.toggle());\n\t}\n\n\tfunction applyInitialTheme(): void {\n\t\tapplyTheme(initialTheme, { persist: false, announce: false, force: true });\n\t}\n\n\treturn { controller, applyInitialTheme };\n}\n", "interface ToastController {\n\tshow: (message: string | null) => void;\n}\n\nexport function createToast(\n\ttoast: HTMLElement | null,\n\tdurationMs: number = 1500,\n): ToastController {\n\tlet timer: number | undefined;\n\n\tfunction show(message: string | null): void {\n\t\tif (!toast) return;\n\t\ttoast.textContent = message;\n\t\ttoast.classList.add(\"show\");\n\t\ttoast.setAttribute(\"aria-hidden\", \"false\");\n\t\tif (timer) window.clearTimeout(timer);\n\t\ttimer = window.setTimeout(() => {\n\t\t\ttoast.classList.remove(\"show\");\n\t\t\ttoast.setAttribute(\"aria-hidden\", \"true\");\n\t\t}, durationMs);\n\t}\n\n\treturn { show };\n}\n", "import type { Segment } from \"../core/terminal\";\n\nexport interface Renderer {\n\tprintLine: (segments: Segment[], className: string) => void;\n\tprintPre: (text: string, className: string) => void;\n\tclear: () => void;\n\tscrollToBottom: () => void;\n\tgetColumns: () => number;\n}\n\nexport function createDomRenderer({\n\tscreen,\n}: {\n\tscreen: HTMLElement;\n}): Renderer {\n\tfunction measureCharacterWidth(): number {\n\t\tconst probe = document.createElement(\"span\");\n\t\tprobe.className = \"line ok\";\n\t\tprobe.style.position = \"absolute\";\n\t\tprobe.style.visibility = \"hidden\";\n\t\tprobe.style.whiteSpace = \"pre\";\n\t\tprobe.textContent = \"M\";\n\t\tscreen.appendChild(probe);\n\t\tconst width = probe.getBoundingClientRect().width;\n\t\tscreen.removeChild(probe);\n\t\treturn width || 8;\n\t}\n\n\tfunction getColumns(): number {\n\t\tconst charWidth = measureCharacterWidth();\n\t\treturn Math.max(1, Math.floor(screen.clientWidth / charWidth));\n\t}\n\n\tfunction isSafeHref(href: string): boolean {\n\t\tconst allowedProtocols = new Set([\"https:\", \"mailto:\"]);\n\t\ttry {\n\t\t\tconst url = new URL(href, window.location.href);\n\t\t\tif (allowedProtocols.has(url.protocol)) return true;\n\t\t\treturn url.origin === window.location.origin;\n\t\t} catch {\n\t\t\treturn false;\n\t\t}\n\t}\n\n\tfunction renderSegment(seg: Segment) {\n\t\tif (seg.type === \"text\") {\n\t\t\treturn document.createTextNode(seg.text);\n\t\t}\n\n\t\tif (seg.type === \"span\") {\n\t\t\tconst el = document.createElement(\"span\");\n\t\t\tel.className = seg.className;\n\t\t\tel.textContent = seg.text;\n\t\t\treturn el;\n\t\t}\n\n\t\tif (seg.type === \"link\") {\n\t\t\tif (!isSafeHref(seg.href)) {\n\t\t\t\treturn document.createTextNode(seg.text ?? seg.href);\n\t\t\t}\n\t\t\tconst a = document.createElement(\"a\");\n\t\t\ta.href = seg.href;\n\t\t\ta.target = \"_blank\";\n\t\t\ta.rel = \"noopener noreferrer\";\n\t\t\ta.textContent = seg.text ?? seg.href;\n\t\t\treturn a;\n\t\t}\n\n\t\treturn document.createTextNode(\"\");\n\t}\n\n\tfunction buildInlineContent(segments: Segment[]): DocumentFragment {\n\t\tconst frag = document.createDocumentFragment();\n\t\tfor (const seg of segments) frag.appendChild(renderSegment(seg));\n\t\treturn frag;\n\t}\n\n\tfunction printLine(segments: Segment[], className = \"ok\"): void {\n\t\tconst block = document.createElement(\"div\");\n\t\tblock.className = \"block\";\n\n\t\tconst line = document.createElement(\"div\");\n\t\tline.className = `line ${className}`;\n\t\tline.appendChild(buildInlineContent(segments));\n\n\t\tblock.appendChild(line);\n\t\tscreen.appendChild(block);\n\t}\n\n\tfunction printPreformatted(text: string, className: string = \"ok\"): void {\n\t\tconst block = document.createElement(\"div\");\n\t\tblock.className = \"block\";\n\n\t\tconst line = document.createElement(\"div\");\n\t\tline.className = `line ${className}`;\n\n\t\tconst pre = document.createElement(\"pre\");\n\t\tpre.className = \"pre\";\n\t\tpre.textContent = text;\n\n\t\tline.appendChild(pre);\n\t\tblock.appendChild(line);\n\t\tscreen.appendChild(block);\n\t}\n\n\tfunction clear(): void {\n\t\twhile (screen.firstChild) screen.removeChild(screen.firstChild);\n\t}\n\n\tfunction scrollToBottom(): void {\n\t\tscreen.scrollTop = screen.scrollHeight;\n\t}\n\n\treturn {\n\t\tprintLine,\n\t\tprintPre: printPreformatted,\n\t\tclear,\n\t\tscrollToBottom,\n\t\tgetColumns,\n\t};\n}\n", "import { buildOpenAliasMap } from \"../core/commands.js\";\nimport type { Profile } from \"../data/profile.js\";\n\ninterface QuickLinksOptions {\n\tcontainer: HTMLElement | null;\n\tlist: HTMLElement | null;\n\tprofile: Profile;\n\tonRunCommand: (command: string) => Promise<void> | void;\n\taliases: readonly string[];\n}\n\nexport function setupQuickLinks({\n\tcontainer,\n\tlist,\n\tprofile,\n\tonRunCommand,\n\taliases,\n}: QuickLinksOptions): void {\n\tif (!(container instanceof HTMLElement)) return;\n\tif (!(list instanceof HTMLElement)) return;\n\n\tconst aliasMap = buildOpenAliasMap(profile);\n\tconst commands = aliases\n\t\t.filter((alias) => aliasMap.has(alias))\n\t\t.map((alias) => `open ${alias}`);\n\n\tlist.replaceChildren();\n\n\tif (commands.length === 0) {\n\t\tcontainer.hidden = true;\n\t\treturn;\n\t}\n\n\tfor (const commandText of commands) {\n\t\tconst button = document.createElement(\"button\");\n\t\tbutton.type = \"button\";\n\t\tbutton.className = \"quick-link\";\n\t\tbutton.dataset.command = commandText;\n\t\tbutton.setAttribute(\"aria-label\", `Run ${commandText}`);\n\t\tbutton.title = commandText;\n\n\t\tconst sigil = document.createElement(\"span\");\n\t\tsigil.className = \"quick-link-sigil\";\n\t\tsigil.textContent = \"$\";\n\n\t\tconst command = document.createElement(\"span\");\n\t\tcommand.textContent = commandText;\n\n\t\tbutton.append(sigil, command);\n\t\tlist.appendChild(button);\n\t}\n\n\tlist.addEventListener(\"click\", async (event) => {\n\t\tconst target = event.target;\n\t\tif (!(target instanceof Element)) return;\n\n\t\tconst button = target.closest(\"button[data-command]\");\n\t\tif (!(button instanceof HTMLButtonElement)) return;\n\n\t\tconst command = button.dataset.command?.trim();\n\t\tif (!command) return;\n\n\t\tif (event.detail > 0) {\n\t\t\tbutton.blur();\n\t\t}\n\n\t\tawait onRunCommand(command);\n\t});\n\n\tcontainer.hidden = false;\n}\n", "import { createCommandRegistry } from \"./core/commands.js\";\nimport { createTerminal } from \"./core/terminal.js\";\nimport { buildFs } from \"./data/fs.js\";\nimport { PROFILE } from \"./data/profile.js\";\nimport { createSafeOpener } from \"./services/openUrl.js\";\nimport { createPromptController } from \"./services/prompt.js\";\nimport { createThemeController } from \"./services/theme.js\";\nimport { createToast } from \"./services/toast.js\";\nimport { createDomRenderer } from \"./ui/domRenderer.js\";\nimport { setupQuickLinks } from \"./ui/quickLinks.js\";\n\nconst screen = document.getElementById(\"screen\");\nconst form = document.getElementById(\"prompt\") as HTMLFormElement;\nconst input = document.getElementById(\"input\") as HTMLInputElement;\nconst themeToggle = document.getElementById(\"themeToggle\");\nconst toastEl = document.getElementById(\"toast\");\nconst title = document.querySelector(\".title\");\nconst ps1 = document.querySelector(\".ps1\");\nconst quickLinks = document.getElementById(\"quickLinks\");\nconst quickLinksList = document.getElementById(\"quickLinksList\");\nconst prefersCoarsePointer = window.matchMedia(\"(pointer: coarse)\").matches;\n\nconst SHELL_ID = \"brad@portfolio\";\n\nif (title) title.textContent = `${SHELL_ID}: ~`;\nif (ps1) ps1.textContent = SHELL_ID;\n\nconst toast = createToast(toastEl);\nconst { controller: themeController, applyInitialTheme } =\n\tcreateThemeController({\n\t\tthemeToggle,\n\t\ttoast,\n\t});\nconst openUrl = createSafeOpener(toast);\n\nif (!screen) {\n\tthrow new Error(\"Screen element not found.\");\n}\n\nconst renderer = createDomRenderer({ screen });\nconst { commands } = createCommandRegistry({ profile: PROFILE });\nconst terminal = createTerminal({\n\trenderer,\n\tprofile: PROFILE,\n\tfs: buildFs(PROFILE),\n\tcommands,\n\ttheme: themeController,\n\topenUrl,\n});\n\nconst prompt = createPromptController({ form, input, terminal, renderer });\n\nsetupQuickLinks({\n\tcontainer: quickLinks,\n\tlist: quickLinksList,\n\tprofile: PROFILE,\n\taliases: [\"cv\", \"github\", \"linkedin\"],\n\tonRunCommand: async (command) => {\n\t\tif (prefersCoarsePointer && document.activeElement === input) {\n\t\t\tinput.blur();\n\t\t}\n\t\tterminal.addHistory(command);\n\t\tawait terminal.run(command);\n\t\trenderer.scrollToBottom();\n\t\t// Avoid iOS Safari auto-zoom/keyboard pop on quick-link taps.\n\t\tif (!prefersCoarsePointer) prompt.focus();\n\t},\n});\n\napplyInitialTheme();\nterminal.boot();\nif (!prefersCoarsePointer) prompt.focus();\n\nlet introResizeRaf = 0;\nwindow.addEventListener(\"resize\", () => {\n\tif (introResizeRaf) cancelAnimationFrame(introResizeRaf);\n\tintroResizeRaf = requestAnimationFrame(() => {\n\t\tterminal.refreshIntroIfPristine();\n\t\tintroResizeRaf = 0;\n\t});\n});\n\nlet lastTouchEnd = 0;\ndocument.addEventListener(\n\t\"touchend\",\n\t(event) => {\n\t\tconst now = performance.now();\n\t\tif (event.touches.length > 0) return;\n\t\tif (now - lastTouchEnd <= 300) {\n\t\t\tevent.preventDefault();\n\t\t}\n\t\tlastTouchEnd = now;\n\t},\n\t{ passive: false },\n);\n"],
  "mappings": "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",
  "names": ["buildOpenAliasMap", "profile", "aliases", "createCommandRegistry", "commands", "cmd", "name", "summary", "usage", "execute", "complete", "ctx", "s", "rows", "a", "b", "c", "lines", "args", "t", "l", "item", "padOnly", "str", "targetLen", "entries", "key", "href", "req", "candidates", "entry", "p", "targetRaw", "target", "alias", "url", "next", "current", "_", "buildFs", "profile", "p", "r", "title", "company", "location", "dates", "desc", "t", "getHomeDir", "fs", "home", "listHome", "resolveHomeItem", "name", "t", "text", "s", "className", "l", "href", "createTerminal", "renderer", "profile", "fs", "commands", "openUrl", "theme", "state", "boot", "renderIntro", "printBanner", "printLine", "refreshIntroIfPristine", "maxLineLength", "lines", "max", "line", "artLines", "artWidth", "availableColumns", "printPre", "printBoxBanner", "name", "role", "contentWidth", "innerWidth", "clamp", "top", "bottom", "banner", "n", "min", "content", "segments", "printCmd", "cmd", "listHome", "resolveHomeItem", "buildContext", "run", "inputLine", "parsed", "tokeniseWithMeta", "args", "command", "err", "message", "tokens", "cur", "quote", "escaping", "i", "ch", "addHistory", "historyUp", "historyDown", "autocomplete", "current", "c", "nextIndex", "endsWithWhitespace", "commandNames", "prefix", "matches", "applyMatches", "choice", "cmdName", "argIndex", "req", "candidates", "quoteIfNeeded", "value", "longestCommonPrefix", "items", "p", "j", "makeMatchesKey", "kind", "buildValue", "matchesKey", "common", "nextValue", "segs", "m", "first", "PROFILE", "createSafeOpener", "toast", "href", "allowedProtocols", "url", "createPromptController", "form", "input", "terminal", "renderer", "focus", "moveCaretToEnd", "e", "line", "next", "THEME_KEY", "isTheme", "value", "normalizeTheme", "getOppositeTheme", "theme", "createThemeController", "themeToggle", "toast", "storage", "doc", "matchMedia", "getStoredTheme", "getPreferredTheme", "initialTheme", "activeTheme", "applyTheme", "next", "options", "persist", "announce", "force", "changed", "nextLabel", "controller", "applyInitialTheme", "createToast", "toast", "durationMs", "timer", "show", "message", "createDomRenderer", "screen", "measureCharacterWidth", "probe", "width", "getColumns", "charWidth", "isSafeHref", "href", "allowedProtocols", "url", "renderSegment", "seg", "el", "a", "buildInlineContent", "segments", "frag", "printLine", "className", "block", "line", "printPreformatted", "text", "pre", "clear", "scrollToBottom", "setupQuickLinks", "container", "list", "profile", "onRunCommand", "aliases", "aliasMap", "buildOpenAliasMap", "commands", "alias", "commandText", "button", "sigil", "command", "event", "target", "screen", "form", "input", "themeToggle", "toastEl", "title", "ps1", "quickLinks", "quickLinksList", "prefersCoarsePointer", "SHELL_ID", "toast", "createToast", "themeController", "applyInitialTheme", "createThemeController", "openUrl", "createSafeOpener", "renderer", "createDomRenderer", "commands", "createCommandRegistry", "PROFILE", "terminal", "createTerminal", "buildFs", "prompt", "createPromptController", "setupQuickLinks", "command", "introResizeRaf", "lastTouchEnd", "event", "now"]
}
