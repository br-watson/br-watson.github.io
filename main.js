function _e(e,t,n){for(let i of n)e(i.name,i.summary,i.usage,s=>t.get(i.targetCommand)?.execute(s,i.args))}function G({profile:e,commands:t,registerCommand:n}){n("whoami","About me","whoami",i=>{i.printLine(`${String(e.name)} \u2014 ${String(e.role)} (${String(e.location)})`)}),_e(n,t,[{name:"bio",summary:"Alias: cat bio.txt",usage:"bio",targetCommand:"cat",args:["bio.txt"]},{name:"projects",summary:"Alias: cat projects.txt",usage:"projects",targetCommand:"cat",args:["projects.txt"]},{name:"socials",summary:"Alias: cat socials.txt",usage:"socials",targetCommand:"cat",args:["socials.txt"]},{name:"cv",summary:"Alias: open cv",usage:"cv",targetCommand:"open",args:["cv"]},{name:"skills",summary:"List my skills",usage:"skills",targetCommand:"cat",args:["skills.txt"]},{name:"education",summary:"List my education",usage:"education",targetCommand:"cat",args:["education.txt"]},{name:"roles",summary:"List my roles and experience",usage:"roles",targetCommand:"cat",args:["roles.txt"]}])}function Ie(e,t){let n=t.toLowerCase();return Array.from(new Set(e)).filter(i=>i.toLowerCase().startsWith(n)).sort()}function O(e,t){return e.argIndex!==0?[]:Ie(t,e.prefix??"")}var Ae=new Set(["file","bio","link","links","projects","education"]);function Pe(e,t){let{t:n,s:i}=e.seg,s=t.lines.flatMap((c,o)=>[n(c),...o<t.lines.length-1?[n(`

`)]:[]]);e.printLine([i("accent",`About
`),...s],"muted")}function He(e,t){e.printPre(String(t.content),"ok")}function Re(e,t,n){let{t:i,l:s,s:c}=e.seg;e.printLine([i(`${t} -> `),s(n.href),i(" (click me! or run "),c("accent",`open ${t}`),i(")")],"muted")}function $e(e,t){let{t:n,l:i,s}=e.seg,c=(m,a)=>" ".repeat(Math.max(0,a-m.length)),o=Object.entries(t.items).flatMap(([m,a])=>[n(`${m}: `.padEnd(10," ")),i(a,m),n(c(m,8)),n(" (or run "),s("accent",`open ${m}`),n(`)
`)]);e.printLine(o,"muted")}function je(e,t){let{t:n,l:i,s}=e.seg,c=t.projects.flatMap(o=>[s("accent",`${o.name}
`),n(`${o.desc}
`),...o.repoLink?[i(o.repoLink),n(`
`)]:[n("")],...o.deployedLink?[i(o.deployedLink),n(`
`)]:[n("")],o.tags&&o.tags.length>0?n(`Tech stack: ${o.tags.join(", ")}
`):n(""),n(`
`)]);e.printLine(c,"muted")}function De(e,t){let{t:n,l:i,s}=e.seg,c=t.education.flatMap(o=>[s("accent",`${o.qualification} - ${o.institution}
`),n(`${o.location} | ${o.startDate} - ${o.endDate} | ${o.grade}
`),o.description?n(`${o.description}
`):n(""),...o.dissertation?[n("Dissertation: "),i(o.dissertation.link,o.dissertation.title),n(`
`)]:[n("")],o.tags&&o.tags.length>0?n(`Tags: ${o.tags.join(", ")}
`):n(""),n(`
`)]);e.printLine(c,"muted")}function Oe(e,t,n){switch(n.type){case"bio":Pe(e,n);break;case"file":He(e,n);break;case"link":Re(e,t,n);break;case"links":$e(e,n);break;case"projects":je(e,n);break;case"education":De(e,n);break;default:e.printLine(`cat: ${t}: Not a file`,"error");break}}function z(e){e("cat","Print file contents","cat <file>",(t,n)=>{let i=n[0];if(!i){t.printLine("cat: missing file operand","error");return}let s=t.resolveHomeItem(i);if(!s){t.printLine(`cat: ${i}: No such file`,"error");return}Oe(t,i,s)},(t,n)=>{let i=t.listHome().filter(s=>{let c=t.resolveHomeItem(s);return c?Ae.has(c.type):!1});return O(n,i)})}function A(e){let t=new Map;return e.links.github&&t.set("github",e.links.github),e.links.linkedin&&t.set("linkedin",e.links.linkedin),e.filePaths.cv&&t.set("cv",e.filePaths.cv),e.filePaths.dissertation&&t.set("dissertation",e.filePaths.dissertation),e.email&&t.set("email",`mailto:${e.email}`),t}function Q({registerCommand:e,isMobile:t}){e("ls","List files (only ~ supported)","ls [path]",(n,i)=>{if((i[0]??"~")!=="~"){n.printLine('ls: only "~" is supported in this tiny filesystem',"error");return}n.printPre(n.listHome().join(`
`),"ok")}),z(e),e("open","Open link","open <alias>",(n,i)=>{let{t:s,l:c}=n.seg,o=i[0],m=(o??"").toLowerCase();if(!m){n.printLine(t?"open: missing target (see the suggestions for valid options)":"open: missing target (press Tab to see valid options)","error");return}let a=A(n.profile);if(a.has(m)){let g=a.get(m);g&&(n.printLine([s("Opening: "),c(g)],"muted"),n.openUrl(g));return}n.printLine(`open: unknown target "${o}"`,"error")},(n,i)=>{let s=A(n.profile);return O(i,s.keys())})}function X({commands:e,registerCommand:t,isMobile:n}){t("help","Show this help","help",i=>{let{s}=i.seg;i.printLine([s("accent","Available commands")],"ok");let c=Array.from(e.values()).sort((m,a)=>m.name.localeCompare(a.name)).map(m=>`${m.name.padEnd(12," ")} ${m.summary.padEnd(32," ")} ${m.usage}`),o=[`${"COMMAND".padEnd(12," ")} ${"SUMMARY".padEnd(32," ")} USAGE`,"",...c,"",n?"Tips: tap a suggestion to autocomplete, then tap Enter to run.":"Tips: use \u2191/\u2193 for history and Tab for autocomplete (Shift+Tab to move focus)."];i.printPre(o.join(`
`),"ok")}),t("clear","Clear the screen","clear",i=>i.clear()),t("date","Print local date/time","date",i=>{i.printLine(new Date().toString(),"muted")}),t("echo","Print args","echo <text>",(i,s)=>{i.printLine(s.join(" "))}),t("theme","Switch theme","theme [dark|light|toggle]",(i,s)=>{let c=(s[0]??"").toLowerCase(),o=i.theme.get();if(!c){i.printLine(`theme: current is "${o}"`,"muted"),i.printLine("Try: theme dark | theme light | theme toggle","muted");return}if(c==="toggle"){i.theme.toggle(),i.printLine(`theme: set to "${i.theme.get()}"`,"muted");return}if(c!=="dark"&&c!=="light"){i.printLine('theme: expected "dark" or "light"',"error");return}i.theme.set(c),i.printLine(`theme: set to "${c}"`,"muted")},(i,s)=>{if(s.argIndex!==0)return[];let c=s.prefix.toLowerCase();return["dark","light","toggle"].filter(o=>o.startsWith(c))})}function Y({profile:e,isMobile:t=!1}){let n=new Map,i=(s,c,o,m,a)=>{n.set(s,{name:s,summary:c,usage:o,execute:m,complete:a})};return X({commands:n,registerCommand:i,isMobile:t}),Q({registerCommand:i,isMobile:t}),G({profile:e,commands:n,registerCommand:i}),{commands:n}}function J(e){return{"~":{type:"dir",children:{"README.txt":{type:"file",content:["Welcome.","","Try: help, ls, cat README.txt, bio, projects, socials, open cv, open github"].join(`
`)},"bio.txt":{type:"bio",lines:e.bio},"projects.txt":{type:"projects",projects:e.projects},"socials.txt":{type:"links",items:e.links},"skills.txt":{type:"file",content:e.skills.join(", ")},"education.txt":{type:"education",education:e.education},"roles.txt":{type:"file",content:e.roles.map(t=>{let n=t.title??"Untitled Role",i=t.company?` at ${t.company}`:"",s=t.location?` in ${t.location}`:"",c=` (${t.startDate} - ${t.endDate??"Present"})`,o=t.description?`
  ${t.description}`:"";return`- ${n}${i}${s}${c}${o}`}).join(`

`)},"cv.pdf":{type:"link",href:e.filePaths.cv},"dissertation.pdf":{type:"link",href:e.filePaths.dissertation},"todo.md":{type:"file",content:e.todo.map(t=>`- [ ] ${t}`).join(`
`)}}}}}function Z(e){let t=e["~"];if(!t||t.type!=="dir")throw new Error("Invalid filesystem: missing home dir");return t}function ee(e){return Object.keys(Z(e).children).sort()}function te(e,t){return Z(e).children[t]}function H(e){let t=[],n="",i=null,s=!1;for(let c=0;c<e.length;c++){let o=e[c];if(s){n+=o,s=!1;continue}if(o==="\\"){s=!0;continue}if(i){if(o===i){i=null;continue}n+=o;continue}if(o==='"'||o==="'"){i=o;continue}if(/\s/.test(o)){n&&(t.push(n),n="");continue}n+=o}return s&&(n+="\\"),n&&t.push(n),{tokens:t,endsWithWhitespace:/\s$/.test(e)}}function ne({commands:e,getContext:t,onListMatches:n}){let i=null;function s(a,g=H(a)){let{tokens:r,endsWithWhitespace:l}=g;if(r.length===0)return null;let d=Array.from(e.keys()).sort();if(r.length===1&&!l){let _=r[0],P=d.filter(I=>I.startsWith(_));return{kind:"cmd",prefix:_,matches:P,buildValue:I=>I}}let y=r[0],C=e.get(y);if(!C?.complete)return null;let f=r.slice(1),p=l?"":f[f.length-1]??"",b=l?f.length:Math.max(0,f.length-1),v={line:a,tokens:r,args:f,endsWithWhitespace:l,argIndex:b,prefix:p},M=C.complete(t(),v)||[];return{kind:`arg:${y}`,prefix:p,matches:M,buildValue:_=>[...l?r:r.slice(0,-1),Ne(_)].join(" ")}}function c(a){let g=s(a);if(!g)return[];let r=new Set,l=[];for(let d of g.matches){let y=g.buildValue(d);r.has(y)||(r.add(y),l.push(y))}return l}function o(a){if(i?.phase==="menu"){let l=i.values.indexOf(a);if(l!==-1){let d=(l+1)%i.values.length;return i.index=d,i.lastValue=i.values[d],i.lastValue}i=null}let g=H(a);if(g.tokens.length===0)return"";let r=s(a,g);return r?m(r.kind,a,r.prefix,r.matches,r.buildValue)??a:a}function m(a,g,r,l,d){if(l.length===0)return i=null,null;if(l.length===1)return i=null,d(l[0]);let y=Be(l),C=Fe(l);if(C.length>r.length){let p=d(C);return i={phase:"armed",kind:a,baseInput:p,prefix:C,matchesKey:y,values:l.map(d),index:-1,lastValue:null},p}if(!(i&&i.kind===a&&i.baseInput===g&&i.prefix===r&&i.matchesKey===y))return i={phase:"armed",kind:a,baseInput:g,prefix:r,matchesKey:y,values:l.map(d),index:-1,lastValue:null},null;if(i?.phase==="armed")return n(l),i.phase="listed",null;if(i?.phase==="listed"){let p=i.values[0];return i.phase="menu",i.index=0,i.lastValue=p,p}return null}return{autocomplete:o,listCompletions:c}}function Ne(e){return/\s/.test(e)?`"${e.replace(/"/g,'\\"')}"`:e}function Fe(e){if(e.length===0)return"";let t=e[0];for(let n=1;n<e.length;n++){let i=e[n],s=0;for(;s<t.length&&s<i.length&&t[s]===i[s];)s++;if(t=t.slice(0,s),t==="")break}return t}function Be(e){return e.join("\0")}var S=e=>({type:"text",text:e}),L=(e,t)=>({type:"span",className:e,text:t}),Ue=(e,t)=>({type:"link",href:e,text:t});function ie({renderer:e,profile:t,fs:n,commands:i,openUrl:s,theme:c}){let o={history:[],historyIndex:-1,hasRunCommand:!1,hasBooted:!1};function m(){o.hasBooted=!0,a()}function a(){e.clear(),y(),p([S("Type "),L("accent","help"),S(" to see commands.")],"muted"),e.scrollToBottom()}function g(){!o.hasBooted||o.hasRunCommand||a()}function r(u){return u.reduce((h,k)=>Math.max(h,k.length),0)}function l(u,h){return u.length<=h?u:h<=1?"\u2026":`${u.slice(0,h-1)}\u2026`}function d(u,h){let k=l(u,h),T=Math.max(0,h-k.length),x=Math.floor(T/2),E=T-x;return{leftPad:" ".repeat(x),text:k,rightPad:" ".repeat(E)}}function y(){let u=t.nameAsciiArt??[],h=r(u),k=e.getColumns();if(u.length>0&&h<=k){b(u.join(`
`),"accent"),p(t.role,"muted");return}C()}function C(){let u=String(t.name).trim()||"Portfolio",h=String(t.role).trim()||"Software Engineer",k=e.getColumns(),T=f(k-6,10,54),x=Math.min(20,T),E=Math.max(u.length,h.length,x-4),w=f(E+4,x,T),F=`\u256D${"\u2500".repeat(w+2)}\u256E`,Ee=`\u251C${"\u2500".repeat(w+2)}\u2524`,Se=`\u2570${"\u2500".repeat(w+2)}\u256F`,V=(Me,we=!0)=>{let B=d(Me,w);return[L("banner-border","\u2502 "),L("banner-border",B.leftPad),L("banner-text",B.text),L("banner-border",B.rightPad),L("banner-border",we?` \u2502
`:" \u2502")]},ve=[L("banner-border",`${F}
`),...V(u),L("banner-border",`${Ee}
`),...V(h),L("banner-border",Se)];p(ve,"banner",!1)}function f(u,h,k){return Math.max(h,Math.min(k,u))}function p(u,h="ok",k=!0){let T=Array.isArray(u)?u:[S(String(u))];e.printLine(T,h,k)}function b(u,h="ok"){e.printPre(String(u),h)}function v(u){p([L("cmd","$"),S(" "),L("cmd",u)],"cmd")}function M(){return ee(n)}function _(u){return te(n,u)}function P(){return{profile:t,fs:n,theme:c,openUrl:s,printLine:p,printPre:b,seg:{t:S,s:L,l:Ue},listHome:M,resolveHomeItem:_,clear:e.clear}}let I=ne({commands:i,getContext:P,onListMatches:u=>{let h=[];u.forEach((k,T)=>{T&&h.push(S("   ")),h.push(L("accent",k))}),p(h,"muted"),e.scrollToBottom()}});async function Ce(u){let h=u.trim();if(!h)return;o.hasRunCommand=!0,v(h);let k=H(h),[T,...x]=k.tokens,E=i.get(T);if(!E){p([S("Command not found: "),L("error",T)],"error"),p([S("Try: "),L("accent","help")],"muted");return}try{await E.execute(P(),x)}catch(w){let F=w instanceof Error?w.message:String(w);p([L("error","Error:"),S(" "),S(F)],"error")}}function ke(u){o.history.push(u),o.historyIndex=o.history.length}function Le(){return o.history.length===0?null:(o.historyIndex=Math.max(0,o.historyIndex-1),o.history[o.historyIndex]??"")}function Te(){return o.history.length===0?null:(o.historyIndex=Math.min(o.history.length,o.historyIndex+1),o.history[o.historyIndex]??"")}function xe(u=6){let h=Math.max(0,Math.floor(u));if(h===0)return[];let k=[],T=new Set;for(let x=o.history.length-1;x>=0;x--){let E=o.history[x]??"";if(!(E.length===0||T.has(E))&&(T.add(E),k.push(E),k.length>=h))break}return k}return{boot:m,run:Ce,addHistory:ke,historyUp:Le,historyDown:Te,listRecentHistory:xe,listCompletions:u=>I.listCompletions(u),autocomplete:u=>I.autocomplete(u),refreshIntroIfPristine:g}}var R={name:"Bradley Watson",nameAsciiArt:["____________  ___ ______   _    _  ___ _____ _____  _____ _   _","| ___ \\ ___ \\/ _ \\|  _  \\ | |  | |/ _ \\_   _/  ___||  _  | \\ | |","| |_/ / |_/ / /_\\ \\ | | | | |  | / /_\\ \\| | \\ `--. | | | |  \\| |","| ___ \\    /|  _  | | | | | |/\\| |  _  || |  `--. \\| | | | . ` |","| |_/ / |\\ \\| | | | |/ /  \\  /\\  / | | || | /\\__/ /\\ \\_/ / |\\  |","\\____/\\_| \\_\\_| |_/___/    \\/  \\/\\_| |_/\\_/ \\____/  \\___/\\_| \\_/"],role:"Software Engineer",location:"Leeds, UK",email:"you@example.com",links:{github:"https://github.com/br-watson",linkedin:"https://www.linkedin.com/in/bradleyrwatson"},filePaths:{cv:"./assets/cv.pdf",dissertation:"./assets/diss.pdf"},bio:["Software engineer specializing in backend systems, cloud platforms, CI/CD automation, and end-to-end data pipelines, building reliable, scalable production systems.","Current interests: distributed systems design, event-driven data pipelines, observability, CI/CD, and developer tooling for cloud-native backends.","This site is a small terminal-style portfolio because standard portfolio sites are kinda boring."],projects:[{name:"Terminal Portfolio",desc:"This project! An interactive terminal-style portfolio built with TypeScript, HTML, and CSS.",repoLink:"https://github.com/br-watson/br-watson.github.io",deployedLink:"https://bwatson.uk",tags:["TypeScript","HTML","CSS"]},{name:"Darts Score Tracker",desc:"All the darts trackers my friends and I could find were either too basic or couldn't handle more than 4 players, so I built this simple one to track our games and stats.",repoLink:"https://github.com/br-watson/darts-games",deployedLink:"https://bwatson.uk/darts-games",tags:["TypeScript","React","Next.js","Tailwind CSS"]},{name:"Planning Poker App",desc:"Built a free, no-login planning poker app for my team's sprint refinements after existing tools were paid or lacked custom decks. It supports multiple rooms, custom card sets, and real-time updates.",deployedLink:"https://poker.bwatson.uk/",tags:["TypeScript","React","Tailwind CSS","Firebase"]},{name:"TODO...",desc:"Lorem ipsum dolor sit amet, consectetur adipiscing elit.",repoLink:"https://github.com/",tags:["TODO..."]}],skills:["TypeScript","AWS","TODO..."],education:[{qualification:"Master of Mathematics (MMath)",institution:"Durham University",location:"Durham, UK",startDate:"2018",endDate:"2022",grade:"First Class Honours (1st)",description:"Specialised in mathematical analysis, geometry, and algebra. Dissertation on isometries of Riemannian manifolds.",tags:["Mathematical analysis","Geometry","Algebra","Calculus","Linear algebra","Partial differential equations"],dissertation:{title:"Isometries of Riemannian Manifolds",link:"./assets/diss.pdf"}},{qualification:"A-Levels",institution:"Notre Dame Sixth Form College",location:"Leeds, UK",startDate:"2016",endDate:"2018",grade:"A*AAA",tags:["Mathematics","Further Mathematics","Computer Science","Chemistry"]}],roles:[{title:"Software Engineer",company:"Sky UK",location:"Leeds, UK",startDate:"Sep 2024",description:"TODO..."},{title:"Associate Software Engineer",company:"Sky UK",location:"Leeds, UK",startDate:"Sep 2023",endDate:"Sep 2024",description:"TODO..."}],todo:["Finish writing profile (bio, experience, projects, skills etc.)","Add more commands","Improve txt files output formatting","Make actual CV","Write README","Make sure accessibility is good","Make sure performance is good","Add my actual email","Write tests"]};function oe(e){return function(n){let i=new Set(["https:","mailto:"]);try{let s=new URL(n,window.location.href);if(!i.has(s.protocol)&&s.origin!==window.location.origin){e.show("Blocked unsafe URL");return}}catch{e.show("Invalid URL");return}window.open(String(n),"_blank","noopener,noreferrer")}}function We({enableMobileAssist:e,mobileAssist:t,mobileSuggestions:n,mobileEnter:i}){return!e||!(t instanceof HTMLElement)||!(n instanceof HTMLElement)||!(i instanceof HTMLButtonElement)?null:{container:t,suggestions:n,enter:i}}function qe(e){requestAnimationFrame(()=>{e.selectionStart=e.selectionEnd=e.value.length})}function $(e,t){e.value=t,qe(e)}function Ke(e,t){let n=document.createElement("button");return n.type="button",n.className="mobile-suggestion",n.dataset.kind=t,n.dataset.value=e,n.setAttribute("aria-label",`Insert ${e}`),n.title=e,n.textContent=e,n}function Ve(e,t){let n=e.trim().length===0,i=n?"history":"completion",s=n?t.listRecentHistory(6):t.listCompletions(e);return{type:i,values:s.slice(0,6)}}function Ge(e,t,n){if(n==="completion"){let i=/\s$/.test(t)?t:`${t} `;$(e,i);return}$(e,t)}function re({form:e,input:t,terminal:n,renderer:i,mobileAssist:s,mobileSuggestions:c,mobileEnter:o,enableMobileAssist:m=!1}){let a=We({enableMobileAssist:m,mobileAssist:s,mobileSuggestions:c,mobileEnter:o});function g(){t.focus({preventScroll:!0})}function r(){if(!a)return;let{type:f,values:p}=Ve(t.value,n);a.suggestions.replaceChildren(...p.map(b=>Ke(b,f))),a.suggestions.hidden=p.length===0}async function l({blurAfterRun:f=!1}={}){let p=t.value;if(t.value="",p.trim().length>0&&(n.addHistory(p),await n.run(p)),i.scrollToBottom(),r(),f){t.blur();return}g()}function d(){e.addEventListener("submit",f=>{f.preventDefault(),l()})}function y(){t.addEventListener("input",()=>{r()}),t.addEventListener("keydown",f=>{if(f.altKey||f.ctrlKey||f.metaKey)return;let p=!1;if(f.key==="ArrowUp"){f.preventDefault();let b=n.historyUp();if(b===null)return;$(t,b),p=!0}if(f.key==="ArrowDown"){f.preventDefault();let b=n.historyDown();if(b===null)return;$(t,b),p=!0}if(f.key==="Tab"){if(f.shiftKey)return;f.preventDefault(),$(t,n.autocomplete(t.value)),p=!0}p&&r()})}function C(){a&&(a.container.hidden=!1,a.suggestions.addEventListener("click",f=>{let p=f.target;if(!(p instanceof Element))return;let b=p.closest("button[data-value]");if(!(b instanceof HTMLButtonElement))return;let v=b.dataset.value;if(!v)return;let M=b.dataset.kind;Ge(t,v,M),r()}),a.enter.addEventListener("click",()=>{l({blurAfterRun:!0})}))}return d(),y(),C(),!a&&s instanceof HTMLElement&&(s.hidden=!0),r(),{focus:g,refreshMobileAssist:r}}var se="terminal-theme";function ze(e){return e==="light"||e==="dark"}function ae(e){return e.toLowerCase()==="light"?"light":"dark"}function le(e){return e.toLowerCase()==="light"?"dark":"light"}function ce({themeToggle:e,toast:t,storage:n=window.localStorage,doc:i=document,matchMedia:s=window.matchMedia?.bind(window)}){function c(){let d=n.getItem(se);return ze(d)?d:null}function o(){return s?.("(prefers-color-scheme: light)")?.matches?"light":"dark"}let m=c()??o(),a=ae(m);function g(d,y={}){let{persist:C=!0,announce:f=!0,force:p=!1}=y,b=ae(d),v=b!==a;if(a=b,(v||p)&&(i.documentElement.dataset.theme=b,e)){let M=le(b);e.setAttribute("aria-pressed",String(b==="light")),e.setAttribute("aria-label",`Switch to ${M.toLowerCase()} theme`),e.textContent=M}C&&n.setItem(se,b),f&&v&&t.show(`theme: ${b}`)}let r={get:()=>a,set:d=>g(d,{persist:!0,announce:!0}),toggle:()=>g(le(a),{persist:!0,announce:!0})};e&&e.addEventListener("click",()=>r.toggle());function l(){g(m,{persist:!1,announce:!1,force:!0})}return{controller:r,applyInitialTheme:l}}function me(e,t=1500){let n;function i(s){e&&(e.textContent=s,e.classList.add("show"),e.setAttribute("aria-hidden","false"),n&&window.clearTimeout(n),n=window.setTimeout(()=>{e.classList.remove("show"),e.setAttribute("aria-hidden","true")},t))}return{show:i}}function ue({screen:e}){function t(){let r=document.createElement("span");r.className="line ok",r.style.position="absolute",r.style.visibility="hidden",r.style.whiteSpace="pre",r.textContent="M",e.appendChild(r);let l=r.getBoundingClientRect().width;return e.removeChild(r),l||8}function n(){let r=t();return Math.max(1,Math.floor(e.clientWidth/r))}function i(r){let l=new Set(["https:","mailto:"]);try{let d=new URL(r,window.location.href);return l.has(d.protocol)?!0:d.origin===window.location.origin}catch{return!1}}function s(r){if(r.type==="text")return document.createTextNode(r.text);if(r.type==="span"){let l=document.createElement("span");return l.className=r.className,l.textContent=r.text,l}if(r.type==="link"){if(!i(r.href))return document.createTextNode(r.text??r.href);let l=document.createElement("a");return l.href=r.href,l.target="_blank",l.rel="noopener noreferrer",l.textContent=r.text??r.href,l}return document.createTextNode("")}function c(r){let l=document.createDocumentFragment();for(let d of r)l.appendChild(s(d));return l}function o(r,l="ok",d=!0){let y=document.createElement("div");y.className="block",d&&y.classList.add("wrap-text");let C=document.createElement("div");C.className=`line ${l}`,d&&C.classList.add("wrap-text"),C.appendChild(c(r)),y.appendChild(C),e.appendChild(y)}function m(r,l="ok"){let d=document.createElement("div");d.className="block";let y=document.createElement("div");y.className=`line ${l}`;let C=document.createElement("pre");C.className="pre",C.textContent=r,y.appendChild(C),d.appendChild(y),e.appendChild(d)}function a(){for(;e.firstChild;)e.removeChild(e.firstChild)}function g(){e.scrollTop=e.scrollHeight}return{printLine:o,printPre:m,clear:a,scrollToBottom:g,getColumns:n}}function de({container:e,list:t,profile:n,onRunCommand:i,aliases:s}){if(!(e instanceof HTMLElement)||!(t instanceof HTMLElement))return;let c=A(n),o=s.filter(m=>c.has(m)).map(m=>`open ${m}`);if(t.replaceChildren(),o.length===0){e.hidden=!0;return}for(let m of o){let a=document.createElement("button");a.type="button",a.className="quick-link",a.dataset.command=m,a.setAttribute("aria-label",`Run ${m}`),a.title=m;let g=document.createElement("span");g.className="quick-link-sigil",g.textContent="$";let r=document.createElement("span");r.textContent=m,a.append(g,r),t.appendChild(a)}t.addEventListener("click",async m=>{let a=m.target;if(!(a instanceof Element))return;let g=a.closest("button[data-command]");if(!(g instanceof HTMLButtonElement))return;let r=g.dataset.command?.trim();r&&(m.detail>0&&g.blur(),await i(r))}),e.hidden=!1}function q(e,t,n){if(!e||!t(e))throw new Error(n);return e}var Qe=q(document.getElementById("screen"),e=>e instanceof HTMLElement,"Screen element not found."),Xe=q(document.getElementById("prompt"),e=>e instanceof HTMLFormElement,"Prompt form element not found."),U=q(document.getElementById("input"),e=>e instanceof HTMLInputElement,"Prompt input element not found."),Ye=document.getElementById("themeToggle"),Je=document.getElementById("toast"),pe=document.querySelector(".title"),ge=document.querySelector(".ps1"),Ze=document.getElementById("quickLinks"),et=document.getElementById("quickLinksList"),tt=document.getElementById("mobileAssist"),nt=document.getElementById("mobileSuggestions"),fe=document.getElementById("mobileEnter"),j=window.matchMedia("(pointer: coarse)").matches,ye="brad@portfolio";pe&&(pe.textContent=`${ye}: ~`);ge&&(ge.textContent=ye);var be=me(Je),{controller:it,applyInitialTheme:ot}=ce({themeToggle:Ye,toast:be}),rt=oe(be),K=ue({screen:Qe}),{commands:st}=Y({profile:R,isMobile:j}),D=ie({renderer:K,profile:R,fs:J(R),commands:st,theme:it,openUrl:rt}),W=re({form:Xe,input:U,terminal:D,renderer:K,mobileAssist:tt,mobileSuggestions:nt,mobileEnter:fe instanceof HTMLButtonElement?fe:null,enableMobileAssist:j});de({container:Ze,list:et,profile:R,aliases:["cv","github","linkedin"],onRunCommand:async e=>{j&&document.activeElement===U&&U.blur(),D.addHistory(e),await D.run(e),K.scrollToBottom(),W.refreshMobileAssist(),j||W.focus()}});ot();D.boot();j||W.focus();var N=0;window.addEventListener("resize",()=>{N&&cancelAnimationFrame(N),N=requestAnimationFrame(()=>{D.refreshIntroIfPristine(),N=0})});var he=0;document.addEventListener("touchend",e=>{let t=performance.now();e.touches.length>0||(t-he<=300&&e.preventDefault(),he=t)},{passive:!1});
