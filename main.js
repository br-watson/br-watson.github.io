var Se=new Set(["file","link","links","projects","education"]);function ve(e,n){let r=n.toLowerCase();return Array.from(new Set(e)).filter(o=>o.toLowerCase().startsWith(r)).sort()}function N(e,n){return e.argIndex!==0?[]:ve(n,e.prefix??"")}function j(e){let n=new Map;return e.links.github&&n.set("github",e.links.github),e.links.linkedin&&n.set("linkedin",e.links.linkedin),e.filePaths.cv&&n.set("cv",e.filePaths.cv),e.filePaths.dissertation&&n.set("dissertation",e.filePaths.dissertation),e.email&&n.set("email",`mailto:${e.email}`),n}function G({profile:e,isMobile:n=!1}){let r=new Map,o=(t,p,i,u,l)=>{r.set(t,{name:t,summary:p,usage:i,execute:u,complete:l})};return o("help","Show this help","help",t=>{let{s:p}=t.seg;t.printLine([p("accent","Available commands")],"ok");let i=Array.from(r.values()).sort((l,m)=>l.name.localeCompare(m.name)).map(l=>`${l.name.padEnd(12," ")} ${l.summary.padEnd(32," ")} ${l.usage}`),u=[`${"COMMAND".padEnd(12," ")} ${"SUMMARY".padEnd(32," ")} USAGE`,"",...i,"",n?"Tips: tap a suggestion to autocomplete, then tap Enter to run.":"Tips: use \u2191/\u2193 for history and Tab for autocomplete (Shift+Tab to move focus)."];t.printPre(u.join(`
`),"ok")}),o("clear","Clear the screen","clear",t=>t.clear()),o("whoami","About me","whoami",t=>{t.printLine(`${String(e.name)} \u2014 ${String(e.role)} (${String(e.location)})`)}),o("date","Print local date/time","date",t=>{t.printLine(new Date().toString(),"muted")}),o("echo","Print args","echo <text>",(t,p)=>{t.printLine(p.join(" "))}),o("ls","List files (only ~ supported)","ls [path]",(t,p)=>{if((p[0]??"~")!=="~"){t.printLine('ls: only "~" is supported in this tiny filesystem',"error");return}t.printPre(t.listHome().join(`
`),"ok")}),o("cat","Print file contents","cat <file>",(t,p)=>{let{t:i,l:u,s:l}=t.seg,m=p[0];if(!m){t.printLine("cat: missing file operand","error");return}let c=t.resolveHomeItem(m);if(!c){t.printLine(`cat: ${m}: No such file`,"error");return}switch(c.type){case"file":{t.printPre(String(c.content),"ok");break}case"link":{t.printLine([i(`${m} -> `),u(c.href),i(" (click me! or run "),l("accent",`open ${m}`),i(")")],"muted");break}case"links":{let a=(g,b)=>" ".repeat(Math.max(0,b-g.length)),s=Object.entries(c.items).flatMap(([g,b])=>[i(`${g}: `.padEnd(10," ")),u(b,g),i(a(g,8)),i(" (or run "),l("accent",`open ${g}`),i(`)
`)]);t.printLine(s,"muted wrap-desktop");break}case"projects":{let a=c.projects.flatMap(s=>[l("accent",`${s.name}
`),i(`${s.desc}
`),...s.repoLink?[u(s.repoLink),i(`
`)]:[i("")],...s.deployedLink?[u(s.deployedLink),i(`
`)]:[i("")],s.tags&&s.tags.length>0?i(`Tech stack: ${s.tags.join(", ")}
`):i(""),i(`
`)]);t.printLine(a,"muted wrap-desktop");break}case"education":{let a=c.education.flatMap(s=>[l("accent",`${s.qualification} - ${s.institution}
`),i(`${s.location} | ${s.startDate} - ${s.endDate} | ${s.grade}
`),s.description?i(`${s.description}
`):i(""),...s.dissertation?[i("Dissertation: "),u(s.dissertation.link,s.dissertation.title),i(`
`)]:[i("")],s.tags&&s.tags.length>0?i(`Tags: ${s.tags.join(", ")}
`):i(""),i(`
`)]);t.printLine(a,"muted wrap-desktop");break}default:{t.printLine(`cat: ${m}: Not a file`,"error");break}}},(t,p)=>{let i=t.listHome().filter(u=>{let l=t.resolveHomeItem(u);return l?Se.has(l.type):!1});return N(p,i)}),o("open","Open link","open <alias>",(t,p)=>{let{t:i,l:u}=t.seg,l=p[0],m=(l??"").toLowerCase();if(!m){t.printLine(n?"open: missing target (see the suggestions for valid options)":"open: missing target (press Tab to see valid options)","error");return}let c=j(t.profile);if(c.has(m)){let a=c.get(m);a&&(t.printLine([i("Opening: "),u(a)],"muted"),t.openUrl(a));return}t.printLine(`open: unknown target "${l}"`,"error")},(t,p)=>{let i=j(t.profile);return N(p,i.keys())}),o("bio","Alias: cat bio.txt","bio",t=>r.get("cat")?.execute(t,["bio.txt"])),o("projects","Alias: cat projects.txt","projects",t=>r.get("cat")?.execute(t,["projects.txt"])),o("socials","Alias: cat socials.txt","socials",t=>r.get("cat")?.execute(t,["socials.txt"])),o("cv","Alias: open cv","cv",t=>r.get("open")?.execute(t,["cv"])),o("skills","List my skills","skills",t=>r.get("cat")?.execute(t,["skills.txt"])),o("education","List my education","education",t=>r.get("cat")?.execute(t,["education.txt"])),o("roles","List my roles and experience","roles",t=>r.get("cat")?.execute(t,["roles.txt"])),o("theme","Switch theme","theme [dark|light|toggle]",(t,p)=>{let i=(p[0]??"").toLowerCase(),u=t.theme.get();if(!i){t.printLine(`theme: current is "${u}"`,"muted"),t.printLine("Try: theme dark | theme light | theme toggle","muted");return}if(i==="toggle"){t.theme.toggle(),t.printLine(`theme: set to "${t.theme.get()}"`,"muted");return}if(i!=="dark"&&i!=="light"){t.printLine('theme: expected "dark" or "light"',"error");return}t.theme.set(i),t.printLine(`theme: set to "${i}"`,"muted")},(t,p)=>N(p,["dark","light","toggle"])),{commands:r}}function z(e){return{"~":{type:"dir",children:{"README.txt":{type:"file",content:["Welcome.","","Try: help, ls, cat README.txt, bio, projects, socials, open cv, open github"].join(`
`)},"bio.txt":{type:"file",content:e.bio.join(`
`)},"projects.txt":{type:"projects",projects:e.projects},"socials.txt":{type:"links",items:e.links},"skills.txt":{type:"file",content:e.skills.join(", ")},"education.txt":{type:"education",education:e.education},"roles.txt":{type:"file",content:e.roles.map(n=>{let r=n.title??"Untitled Role",o=n.company?` at ${n.company}`:"",t=n.location?` in ${n.location}`:"",p=` (${n.startDate} - ${n.endDate??"Present"})`,i=n.description?`
  ${n.description}`:"";return`- ${r}${o}${t}${p}${i}`}).join(`

`)},"cv.pdf":{type:"link",href:e.filePaths.cv},"dissertation.pdf":{type:"link",href:e.filePaths.dissertation},"todo.md":{type:"file",content:e.todo.map(n=>`- [ ] ${n}`).join(`
`)}}}}}function Q(e){let n=e["~"];if(!n||n.type!=="dir")throw new Error("Invalid filesystem: missing home dir");return n}function X(e){return Object.keys(Q(e).children).sort()}function Y(e,n){return Q(e).children[n]}function A(e){let n=[],r="",o=null,t=!1;for(let p=0;p<e.length;p++){let i=e[p];if(t){r+=i,t=!1;continue}if(i==="\\"){t=!0;continue}if(o){if(i===o){o=null;continue}r+=i;continue}if(i==='"'||i==="'"){o=i;continue}if(/\s/.test(i)){r&&(n.push(r),r="");continue}r+=i}return t&&(r+="\\"),r&&n.push(r),{tokens:n,endsWithWhitespace:/\s$/.test(e)}}function J({commands:e,getContext:n,onListMatches:r}){let o=null;function t(l,m=A(l)){let{tokens:c,endsWithWhitespace:a}=m;if(c.length===0)return null;let s=Array.from(e.keys()).sort();if(c.length===1&&!a){let _=c[0],P=s.filter(I=>I.startsWith(_));return{kind:"cmd",prefix:_,matches:P,buildValue:I=>I}}let g=c[0],b=e.get(g);if(!b?.complete)return null;let h=c.slice(1),f=a?"":h[h.length-1]??"",k=a?h.length:Math.max(0,h.length-1),v={line:l,tokens:c,args:h,endsWithWhitespace:a,argIndex:k,prefix:f},M=b.complete(n(),v)||[];return{kind:`arg:${g}`,prefix:f,matches:M,buildValue:_=>[...a?c:c.slice(0,-1),Me(_)].join(" ")}}function p(l){let m=t(l);if(!m)return[];let c=new Set,a=[];for(let s of m.matches){let g=m.buildValue(s);c.has(g)||(c.add(g),a.push(g))}return a}function i(l){if(o?.phase==="menu"){let a=o.values.indexOf(l);if(a!==-1){let s=(a+1)%o.values.length;return o.index=s,o.lastValue=o.values[s],o.lastValue}o=null}let m=A(l);if(m.tokens.length===0)return"";let c=t(l,m);return c?u(c.kind,l,c.prefix,c.matches,c.buildValue)??l:l}function u(l,m,c,a,s){if(a.length===0)return o=null,null;if(a.length===1)return o=null,s(a[0]);let g=_e(a),b=we(a);if(b.length>c.length){let f=s(b);return o={phase:"armed",kind:l,baseInput:f,prefix:b,matchesKey:g,values:a.map(s),index:-1,lastValue:null},f}if(!(o&&o.kind===l&&o.baseInput===m&&o.prefix===c&&o.matchesKey===g))return o={phase:"armed",kind:l,baseInput:m,prefix:c,matchesKey:g,values:a.map(s),index:-1,lastValue:null},null;if(o?.phase==="armed")return r(a),o.phase="listed",null;if(o?.phase==="listed"){let f=o.values[0];return o.phase="menu",o.index=0,o.lastValue=f,f}return null}return{autocomplete:i,listCompletions:p}}function Me(e){return/\s/.test(e)?`"${e.replace(/"/g,'\\"')}"`:e}function we(e){if(e.length===0)return"";let n=e[0];for(let r=1;r<e.length;r++){let o=e[r],t=0;for(;t<n.length&&t<o.length&&n[t]===o[t];)t++;if(n=n.slice(0,t),n==="")break}return n}function _e(e){return e.join("\0")}var S=e=>({type:"text",text:e}),L=(e,n)=>({type:"span",className:e,text:n}),Ie=(e,n)=>({type:"link",href:e,text:n});function Z({renderer:e,profile:n,fs:r,commands:o,openUrl:t,theme:p}){let i={history:[],historyIndex:-1,hasRunCommand:!1,hasBooted:!1};function u(){i.hasBooted=!0,l()}function l(){e.clear(),g(),f([S("Type "),L("accent","help"),S(" to see commands.")],"muted"),e.scrollToBottom()}function m(){!i.hasBooted||i.hasRunCommand||l()}function c(d){return d.reduce((y,T)=>Math.max(y,T.length),0)}function a(d,y){return d.length<=y?d:y<=1?"\u2026":`${d.slice(0,y-1)}\u2026`}function s(d,y){let T=a(d,y),x=Math.max(0,y-T.length),C=Math.floor(x/2),E=x-C;return{leftPad:" ".repeat(C),text:T,rightPad:" ".repeat(E)}}function g(){let d=n.nameAsciiArt??[],y=c(d),T=e.getColumns();if(d.length>0&&y<=T){k(d.join(`
`),"accent"),f(n.role,"muted");return}b()}function b(){let d=String(n.name).trim()||"Portfolio",y=String(n.role).trim()||"Software Engineer",T=e.getColumns(),x=h(T-6,10,54),C=Math.min(20,x),E=Math.max(d.length,y.length,C-4),w=h(E+4,C,x),B=`\u256D${"\u2500".repeat(w+2)}\u256E`,Te=`\u251C${"\u2500".repeat(w+2)}\u2524`,Le=`\u2570${"\u2500".repeat(w+2)}\u256F`,V=(Ce,Ee=!0)=>{let F=s(Ce,w);return[L("banner-border","\u2502 "),L("banner-border",F.leftPad),L("banner-text",F.text),L("banner-border",F.rightPad),L("banner-border",Ee?` \u2502
`:" \u2502")]},xe=[L("banner-border",`${B}
`),...V(d),L("banner-border",`${Te}
`),...V(y),L("banner-border",Le)];f(xe,"banner")}function h(d,y,T){return Math.max(y,Math.min(T,d))}function f(d,y="ok"){let T=Array.isArray(d)?d:[S(String(d))];e.printLine(T,y)}function k(d,y="ok"){e.printPre(String(d),y)}function v(d){f([L("cmd","$"),S(" "),L("cmd",d)],"cmd")}function M(){return X(r)}function _(d){return Y(r,d)}function P(){return{profile:n,fs:r,theme:p,openUrl:t,printLine:f,printPre:k,seg:{t:S,s:L,l:Ie},listHome:M,resolveHomeItem:_,clear:e.clear}}let I=J({commands:o,getContext:P,onListMatches:d=>{let y=[];d.forEach((T,x)=>{x&&y.push(S("   ")),y.push(L("accent",T))}),f(y,"muted wrap-desktop"),e.scrollToBottom()}});async function fe(d){let y=d.trim();if(!y)return;i.hasRunCommand=!0,v(y);let T=A(y),[x,...C]=T.tokens,E=o.get(x);if(!E){f([S("Command not found: "),L("error",x)],"error"),f([S("Try: "),L("accent","help")],"muted");return}try{await E.execute(P(),C)}catch(w){let B=w instanceof Error?w.message:String(w);f([L("error","Error:"),S(" "),S(B)],"error")}}function he(d){i.history.push(d),i.historyIndex=i.history.length}function ye(){return i.history.length===0?null:(i.historyIndex=Math.max(0,i.historyIndex-1),i.history[i.historyIndex]??"")}function be(){return i.history.length===0?null:(i.historyIndex=Math.min(i.history.length,i.historyIndex+1),i.history[i.historyIndex]??"")}function ke(d=6){let y=Math.max(0,Math.floor(d));if(y===0)return[];let T=[],x=new Set;for(let C=i.history.length-1;C>=0;C--){let E=i.history[C]??"";if(!(E.length===0||x.has(E))&&(x.add(E),T.push(E),T.length>=y))break}return T}return{boot:u,run:fe,addHistory:he,historyUp:ye,historyDown:be,listRecentHistory:ke,listCompletions:d=>I.listCompletions(d),autocomplete:d=>I.autocomplete(d),refreshIntroIfPristine:m}}var H={name:"Bradley Watson",nameAsciiArt:["____________  ___ ______   _    _  ___ _____ _____  _____ _   _","| ___ \\ ___ \\/ _ \\|  _  \\ | |  | |/ _ \\_   _/  ___||  _  | \\ | |","| |_/ / |_/ / /_\\ \\ | | | | |  | / /_\\ \\| | \\ `--. | | | |  \\| |","| ___ \\    /|  _  | | | | | |/\\| |  _  || |  `--. \\| | | | . ` |","| |_/ / |\\ \\| | | | |/ /  \\  /\\  / | | || | /\\__/ /\\ \\_/ / |\\  |","\\____/\\_| \\_\\_| |_/___/    \\/  \\/\\_| |_/\\_/ \\____/  \\___/\\_| \\_/"],role:"Software Engineer",location:"Leeds, UK",email:"you@example.com",links:{github:"https://github.com/br-watson",linkedin:"https://www.linkedin.com/in/bradleyrwatson"},filePaths:{cv:"./assets/cv.pdf",dissertation:"./assets/diss.pdf"},bio:["Software engineer specializing in backend systems, cloud platforms, CI/CD automation, and end-to-end data pipelines, building reliable, scalable production systems.","Current interests: distributed systems design, event-driven data pipelines, observability, CI/CD, and developer tooling for cloud-native backends.","This site is a small terminal-style portfolio because standard portfolio sites are kinda boring."],projects:[{name:"Terminal Portfolio",desc:"This project! An interactive terminal-style portfolio built with TypeScript, HTML, and CSS.",repoLink:"https://github.com/br-watson/br-watson.github.io",deployedLink:"https://bwatson.uk",tags:["TypeScript","HTML","CSS"]},{name:"Darts Score Tracker",desc:"All the darts trackers my friends and I could find were either too basic or couldn't handle more than 4 players, so I built this simple one to track our games and stats.",repoLink:"https://github.com/br-watson/darts-games",deployedLink:"https://bwatson.uk/darts-games",tags:["TypeScript","React","Next.js","Tailwind CSS"]},{name:"Planning Poker App",desc:"Built a free, no-login planning poker app for my team's sprint refinements after existing tools were paid or lacked custom decks. It supports multiple rooms, custom card sets, and real-time updates.",deployedLink:"https://poker.bwatson.uk/",tags:["TypeScript","React","Tailwind CSS","Firebase"]},{name:"TODO...",desc:"Lorem ipsum dolor sit amet, consectetur adipiscing elit.",repoLink:"https://github.com/",tags:["TODO..."]}],skills:["TypeScript","AWS","TODO..."],education:[{qualification:"Master of Mathematics (MMath)",institution:"Durham University",location:"Durham, UK",startDate:"2018",endDate:"2022",grade:"First Class Honours (1st)",description:"Specialised in mathematical analysis, geometry, and algebra. Dissertation on isometries of Riemannian manifolds.",tags:["Mathematical analysis","Geometry","Algebra","Calculus","Linear algebra","Partial differential equations"],dissertation:{title:"Isometries of Riemannian Manifolds",link:"./assets/diss.pdf"}},{qualification:"A-Levels",institution:"Notre Dame Sixth Form College",location:"Leeds, UK",startDate:"2016",endDate:"2018",grade:"A*AAA",tags:["Mathematics","Further Mathematics","Computer Science","Chemistry"]}],roles:[{title:"Software Engineer",company:"Sky UK",location:"Leeds, UK",startDate:"Sep 2024",description:"TODO..."},{title:"Associate Software Engineer",company:"Sky UK",location:"Leeds, UK",startDate:"Sep 2023",endDate:"Sep 2024",description:"TODO..."}],todo:["Finish writing profile (bio, experience, projects, skills etc.)","Add more commands","Improve txt files output formatting","Make actual CV","Write README","Make sure accessibility is good","Make sure performance is good","Add my actual email","Write tests"]};function ee(e){return function(r){let o=new Set(["https:","mailto:"]);try{let t=new URL(r,window.location.href);if(!o.has(t.protocol)&&t.origin!==window.location.origin){e.show("Blocked unsafe URL");return}}catch{e.show("Invalid URL");return}window.open(String(r),"_blank","noopener,noreferrer")}}function Pe({enableMobileAssist:e,mobileAssist:n,mobileSuggestions:r,mobileEnter:o}){return!e||!(n instanceof HTMLElement)||!(r instanceof HTMLElement)||!(o instanceof HTMLButtonElement)?null:{container:n,suggestions:r,enter:o}}function Ae(e){requestAnimationFrame(()=>{e.selectionStart=e.selectionEnd=e.value.length})}function $(e,n){e.value=n,Ae(e)}function He(e,n){let r=document.createElement("button");return r.type="button",r.className="mobile-suggestion",r.dataset.kind=n,r.dataset.value=e,r.setAttribute("aria-label",`Insert ${e}`),r.title=e,r.textContent=e,r}function $e(e,n){let r=e.trim().length===0,o=r?"history":"completion",t=r?n.listRecentHistory(6):n.listCompletions(e);return{type:o,values:t.slice(0,6)}}function Re(e,n,r){if(r==="completion"){let o=/\s$/.test(n)?n:`${n} `;$(e,o);return}$(e,n)}function te({form:e,input:n,terminal:r,renderer:o,mobileAssist:t,mobileSuggestions:p,mobileEnter:i,enableMobileAssist:u=!1}){let l=Pe({enableMobileAssist:u,mobileAssist:t,mobileSuggestions:p,mobileEnter:i});function m(){n.focus({preventScroll:!0})}function c(){if(!l)return;let{type:h,values:f}=$e(n.value,r);l.suggestions.replaceChildren(...f.map(k=>He(k,h))),l.suggestions.hidden=f.length===0}async function a({blurAfterRun:h=!1}={}){let f=n.value;if(n.value="",f.trim().length>0&&(r.addHistory(f),await r.run(f)),o.scrollToBottom(),c(),h){n.blur();return}m()}function s(){e.addEventListener("submit",h=>{h.preventDefault(),a()})}function g(){n.addEventListener("input",()=>{c()}),n.addEventListener("keydown",h=>{if(h.altKey||h.ctrlKey||h.metaKey)return;let f=!1;if(h.key==="ArrowUp"){h.preventDefault();let k=r.historyUp();if(k===null)return;$(n,k),f=!0}if(h.key==="ArrowDown"){h.preventDefault();let k=r.historyDown();if(k===null)return;$(n,k),f=!0}if(h.key==="Tab"){if(h.shiftKey)return;h.preventDefault(),$(n,r.autocomplete(n.value)),f=!0}f&&c()})}function b(){l&&(l.container.hidden=!1,l.suggestions.addEventListener("click",h=>{let f=h.target;if(!(f instanceof Element))return;let k=f.closest("button[data-value]");if(!(k instanceof HTMLButtonElement))return;let v=k.dataset.value;if(!v)return;let M=k.dataset.kind;Re(n,v,M),c()}),l.enter.addEventListener("click",()=>{a({blurAfterRun:!0})}))}return s(),g(),b(),!l&&t instanceof HTMLElement&&(t.hidden=!0),c(),{focus:m,refreshMobileAssist:c}}var ne="terminal-theme";function De(e){return e==="light"||e==="dark"}function ie(e){return e.toLowerCase()==="light"?"light":"dark"}function oe(e){return e.toLowerCase()==="light"?"dark":"light"}function re({themeToggle:e,toast:n,storage:r=window.localStorage,doc:o=document,matchMedia:t=window.matchMedia?.bind(window)}){function p(){let s=r.getItem(ne);return De(s)?s:null}function i(){return t?.("(prefers-color-scheme: light)")?.matches?"light":"dark"}let u=p()??i(),l=ie(u);function m(s,g={}){let{persist:b=!0,announce:h=!0,force:f=!1}=g,k=ie(s),v=k!==l;if(l=k,(v||f)&&(o.documentElement.dataset.theme=k,e)){let M=oe(k);e.setAttribute("aria-pressed",String(k==="light")),e.setAttribute("aria-label",`Switch to ${M.toLowerCase()} theme`),e.textContent=M}b&&r.setItem(ne,k),h&&v&&n.show(`theme: ${k}`)}let c={get:()=>l,set:s=>m(s,{persist:!0,announce:!0}),toggle:()=>m(oe(l),{persist:!0,announce:!0})};e&&e.addEventListener("click",()=>c.toggle());function a(){m(u,{persist:!1,announce:!1,force:!0})}return{controller:c,applyInitialTheme:a}}function se(e,n=1500){let r;function o(t){e&&(e.textContent=t,e.classList.add("show"),e.setAttribute("aria-hidden","false"),r&&window.clearTimeout(r),r=window.setTimeout(()=>{e.classList.remove("show"),e.setAttribute("aria-hidden","true")},n))}return{show:o}}function ae({screen:e}){function n(a,s){return a.split(/\s+/).includes(s)}function r(){let a=document.createElement("span");a.className="line ok",a.style.position="absolute",a.style.visibility="hidden",a.style.whiteSpace="pre",a.textContent="M",e.appendChild(a);let s=a.getBoundingClientRect().width;return e.removeChild(a),s||8}function o(){let a=r();return Math.max(1,Math.floor(e.clientWidth/a))}function t(a){let s=new Set(["https:","mailto:"]);try{let g=new URL(a,window.location.href);return s.has(g.protocol)?!0:g.origin===window.location.origin}catch{return!1}}function p(a){if(a.type==="text")return document.createTextNode(a.text);if(a.type==="span"){let s=document.createElement("span");return s.className=a.className,s.textContent=a.text,s}if(a.type==="link"){if(!t(a.href))return document.createTextNode(a.text??a.href);let s=document.createElement("a");return s.href=a.href,s.target="_blank",s.rel="noopener noreferrer",s.textContent=a.text??a.href,s}return document.createTextNode("")}function i(a){let s=document.createDocumentFragment();for(let g of a)s.appendChild(p(g));return s}function u(a,s="ok"){let g=document.createElement("div");g.className="block",n(s,"wrap-desktop")&&g.classList.add("wrap-desktop");let b=document.createElement("div");b.className=`line ${s}`,b.appendChild(i(a)),g.appendChild(b),e.appendChild(g)}function l(a,s="ok"){let g=document.createElement("div");g.className="block";let b=document.createElement("div");b.className=`line ${s}`;let h=document.createElement("pre");h.className="pre",h.textContent=a,b.appendChild(h),g.appendChild(b),e.appendChild(g)}function m(){for(;e.firstChild;)e.removeChild(e.firstChild)}function c(){e.scrollTop=e.scrollHeight}return{printLine:u,printPre:l,clear:m,scrollToBottom:c,getColumns:o}}function le({container:e,list:n,profile:r,onRunCommand:o,aliases:t}){if(!(e instanceof HTMLElement)||!(n instanceof HTMLElement))return;let p=j(r),i=t.filter(u=>p.has(u)).map(u=>`open ${u}`);if(n.replaceChildren(),i.length===0){e.hidden=!0;return}for(let u of i){let l=document.createElement("button");l.type="button",l.className="quick-link",l.dataset.command=u,l.setAttribute("aria-label",`Run ${u}`),l.title=u;let m=document.createElement("span");m.className="quick-link-sigil",m.textContent="$";let c=document.createElement("span");c.textContent=u,l.append(m,c),n.appendChild(l)}n.addEventListener("click",async u=>{let l=u.target;if(!(l instanceof Element))return;let m=l.closest("button[data-command]");if(!(m instanceof HTMLButtonElement))return;let c=m.dataset.command?.trim();c&&(u.detail>0&&m.blur(),await o(c))}),e.hidden=!1}function W(e,n,r){if(!e||!n(e))throw new Error(r);return e}var je=W(document.getElementById("screen"),e=>e instanceof HTMLElement,"Screen element not found."),Oe=W(document.getElementById("prompt"),e=>e instanceof HTMLFormElement,"Prompt form element not found."),U=W(document.getElementById("input"),e=>e instanceof HTMLInputElement,"Prompt input element not found."),Be=document.getElementById("themeToggle"),Fe=document.getElementById("toast"),ce=document.querySelector(".title"),me=document.querySelector(".ps1"),Ne=document.getElementById("quickLinks"),Ue=document.getElementById("quickLinksList"),qe=document.getElementById("mobileAssist"),We=document.getElementById("mobileSuggestions"),ue=document.getElementById("mobileEnter"),R=window.matchMedia("(pointer: coarse)").matches,pe="brad@portfolio";ce&&(ce.textContent=`${pe}: ~`);me&&(me.textContent=pe);var ge=se(Fe),{controller:Ke,applyInitialTheme:Ve}=re({themeToggle:Be,toast:ge}),Ge=ee(ge),K=ae({screen:je}),{commands:ze}=G({profile:H,isMobile:R}),D=Z({renderer:K,profile:H,fs:z(H),commands:ze,theme:Ke,openUrl:Ge}),q=te({form:Oe,input:U,terminal:D,renderer:K,mobileAssist:qe,mobileSuggestions:We,mobileEnter:ue instanceof HTMLButtonElement?ue:null,enableMobileAssist:R});le({container:Ne,list:Ue,profile:H,aliases:["cv","github","linkedin"],onRunCommand:async e=>{R&&document.activeElement===U&&U.blur(),D.addHistory(e),await D.run(e),K.scrollToBottom(),q.refreshMobileAssist(),R||q.focus()}});Ve();D.boot();R||q.focus();var O=0;window.addEventListener("resize",()=>{O&&cancelAnimationFrame(O),O=requestAnimationFrame(()=>{D.refreshIntroIfPristine(),O=0})});var de=0;document.addEventListener("touchend",e=>{let n=performance.now();e.touches.length>0||(n-de<=300&&e.preventDefault(),de=n)},{passive:!1});
