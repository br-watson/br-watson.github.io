function Ot(t,e,n){for(let o of n)t(o.name,o.summary,o.usage,i=>e.get(o.targetCommand)?.execute(i,o.args))}function tt({profile:t,commands:e,registerCommand:n}){n("whoami","About me","whoami",o=>{o.printLine(`${String(t.name)} \u2014 ${String(t.role)} (${String(t.location)})`)}),Ot(n,e,[{name:"bio",summary:"Alias: cat bio.txt",usage:"bio",targetCommand:"cat",args:["bio.txt"]},{name:"projects",summary:"Alias: cat projects.txt",usage:"projects",targetCommand:"cat",args:["projects.txt"]},{name:"contact",summary:"Alias: cat contact.txt",usage:"contact",targetCommand:"cat",args:["contact.txt"]},{name:"cv",summary:"Alias: open cv",usage:"cv",targetCommand:"open",args:["cv"]},{name:"skills",summary:"List my skills",usage:"skills",targetCommand:"cat",args:["skills.txt"]},{name:"education",summary:"List my education",usage:"education",targetCommand:"cat",args:["education.txt"]},{name:"roles",summary:"List my roles and experience",usage:"roles",targetCommand:"cat",args:["roles.txt"]}])}function Ut(t,e){let n=e.toLowerCase();return Array.from(new Set(t)).filter(o=>o.toLowerCase().startsWith(n)).sort()}function q(t,e){return t.argIndex!==0?[]:Ut(e,t.prefix??"")}var qt=new Set(["file","bio","link","links","projects","education"]);function Wt(t,e){let{t:n,s:o}=t.seg,i=e.lines.flatMap((l,r)=>[n(l),...r<e.lines.length-1?[n(`

`)]:[]]);t.printLine([o("accent",`About
`),...i],"muted")}function Kt(t,e){t.printPre(String(e.content),"ok")}function zt(t,e,n){let{t:o,l:i,s:l}=t.seg;t.printLine([o(`${e} -> `),i(n.href),o(" (click me! or run "),l("accent",`open ${e}`),o(")")],"muted")}function Vt(t,e){let{t:n,l:o,s:i}=t.seg,l=(s,u)=>" ".repeat(Math.max(0,u-s.length)),r=Object.entries(e.items).flatMap(([s,u])=>{let d=s==="email"?u.replace("mailto:",""):s;return[n(`${s}: `.padEnd(10," ")),o(u,d),n(l(d,11)),n(" (or run "),i("accent",`open ${s}`),n(`)
`)]});t.printLine(r,"muted")}function Gt(t,e){let{t:n,l:o,s:i}=t.seg,l=e.projects.flatMap(r=>[i("accent",`${r.name}
`),n(`${r.desc}
`),...r.repoLink?[o(r.repoLink),n(`
`)]:[n("")],...r.deployedLink?[o(r.deployedLink),n(`
`)]:[n("")],r.tags&&r.tags.length>0?n(`Tech stack: ${r.tags.join(", ")}
`):n(""),n(`
`)]);t.printLine(l,"muted")}function Qt(t,e){let{t:n,l:o,s:i}=t.seg,l=e.education.flatMap(r=>[i("accent",`${r.qualification} - ${r.institution}
`),n(`${r.location} | ${r.startDate} - ${r.endDate} | ${r.grade}
`),r.description?n(`${r.description}
`):n(""),...r.dissertation?[n("Dissertation: "),o(r.dissertation.link,r.dissertation.title),n(`
`)]:[n("")],r.tags&&r.tags.length>0?n(`Tags: ${r.tags.join(", ")}
`):n(""),n(`
`)]);t.printLine(l,"muted")}function Yt(t,e,n){switch(n.type){case"bio":Wt(t,n);break;case"file":Kt(t,n);break;case"link":zt(t,e,n);break;case"links":Vt(t,n);break;case"projects":Gt(t,n);break;case"education":Qt(t,n);break;default:t.printLine(`cat: ${e}: Not a file`,"error");break}}function et(t){t("cat","Print file contents","cat <file>",(e,n)=>{let o=n[0];if(!o){e.printLine("cat: missing file operand","error");return}let i=e.resolveHomeItem(o);if(!i){e.printLine(`cat: ${o}: No such file`,"error");return}Yt(e,o,i)},(e,n)=>{let o=e.listHome().filter(i=>{let l=e.resolveHomeItem(i);return l?qt.has(l.type):!1});return q(n,o)})}function F(t){let e=new Map;return t.links.github&&e.set("github",t.links.github),t.links.linkedin&&e.set("linkedin",t.links.linkedin),t.filePaths.cv&&e.set("cv",t.filePaths.cv),t.filePaths.dissertation&&e.set("dissertation",t.filePaths.dissertation),t.email&&e.set("email",`mailto:${t.email}`),e}function nt({registerCommand:t,isMobile:e}){t("ls","List files (only ~ supported)","ls [path]",(n,o)=>{if((o[0]??"~")!=="~"){n.printLine('ls: only "~" is supported in this tiny filesystem',"error");return}n.printPre(n.listHome().join(`
`),"ok")}),et(t),t("open","Open link","open <alias>",(n,o)=>{let{t:i,l}=n.seg,r=o[0],s=(r??"").toLowerCase();if(!s){n.printLine(e?"open: missing target (see the suggestions for valid options)":"open: missing target (press Tab to see valid options)","error");return}let u=F(n.profile);if(u.has(s)){let d=u.get(s);d&&(n.printLine([i("Opening: "),l(d)],"muted"),n.openUrl(d));return}n.printLine(`open: unknown target "${r}"`,"error")},(n,o)=>{let i=F(n.profile);return q(o,i.keys())})}function ot({commands:t,registerCommand:e,isMobile:n}){e("help","Show this help","help",o=>{let{s:i}=o.seg;o.printLine([i("accent","Available commands")],"ok");let l=Array.from(t.values()).sort((s,u)=>s.name.localeCompare(u.name)).map(s=>`${s.name.padEnd(12," ")} ${s.summary.padEnd(32," ")} ${s.usage}`),r=[`${"COMMAND".padEnd(12," ")} ${"SUMMARY".padEnd(32," ")} USAGE`,"",...l,"",n?'Tip: use the command buttons below, or tap "Custom" to type commands with autocomplete and history.':"Tips: use \u2191/\u2193 for history and Tab for autocomplete (Shift+Tab to move focus)."];o.printPre(r.join(`
`),"ok")}),e("clear","Clear the screen","clear",o=>o.clear()),e("date","Print local date/time","date",o=>{o.printLine(new Date().toString(),"muted")}),e("echo","Print args","echo <text>",(o,i)=>{o.printLine(i.join(" "))}),e("theme","Switch theme","theme [dark|light|toggle]",(o,i)=>{let l=(i[0]??"").toLowerCase(),r=o.theme.get();if(!l){o.printLine(`theme: current is "${r}"`,"muted"),o.printLine("Try: theme dark | theme light | theme toggle","muted");return}if(l==="toggle"){o.theme.toggle(),o.printLine(`theme: set to "${o.theme.get()}"`,"muted");return}if(l!=="dark"&&l!=="light"){o.printLine('theme: expected "dark" or "light"',"error");return}o.theme.set(l),o.printLine(`theme: set to "${l}"`,"muted")},(o,i)=>{if(i.argIndex!==0)return[];let l=i.prefix.toLowerCase();return["dark","light","toggle"].filter(r=>r.startsWith(l))})}function it({profile:t,isMobile:e=!1}){let n=new Map,o=(i,l,r,s,u)=>{n.set(i,{name:i,summary:l,usage:r,execute:s,complete:u})};return ot({commands:n,registerCommand:o,isMobile:e}),nt({registerCommand:o,isMobile:e}),tt({profile:t,commands:n,registerCommand:o}),{commands:n}}function rt(t){return{"~":{type:"dir",children:{"bio.txt":{type:"bio",lines:t.bio},"projects.txt":{type:"projects",projects:t.projects},"contact.txt":{type:"links",items:{...t.links,email:`mailto:${t.email}`}},"skills.txt":{type:"file",content:t.skills.join(", ")},"education.txt":{type:"education",education:t.education},"roles.txt":{type:"file",content:t.roles.map(e=>{let n=e.title??"Untitled Role",o=e.company?` at ${e.company}`:"",i=e.location?` in ${e.location}`:"",l=` (${e.startDate} - ${e.endDate??"Present"})`,r=e.description?`
  ${e.description}`:"";return`- ${n}${o}${i}${l}${r}`}).join(`

`)},"cv.pdf":{type:"link",href:t.filePaths.cv},"dissertation.pdf":{type:"link",href:t.filePaths.dissertation},"todo.md":{type:"file",content:t.todo.map(e=>`- [ ] ${e}`).join(`
`)}}}}}function st(t){let e=t["~"];if(!e||e.type!=="dir")throw new Error("Invalid filesystem: missing home dir");return e}function at(t){return Object.keys(st(t).children).sort()}function lt(t,e){return st(t).children[e]}function N(t){let e=[],n="",o=null,i=!1;for(let l=0;l<t.length;l++){let r=t[l];if(i){n+=r,i=!1;continue}if(r==="\\"){i=!0;continue}if(o){if(r===o){o=null;continue}n+=r;continue}if(r==='"'||r==="'"){o=r;continue}if(/\s/.test(r)){n&&(e.push(n),n="");continue}n+=r}return i&&(n+="\\"),n&&e.push(n),{tokens:e,endsWithWhitespace:/\s$/.test(t)}}function mt({commands:t,getContext:e,onListMatches:n}){let o=Array.from(t.keys()).sort(),i=null;function l(d,a=N(d)){let{tokens:m,endsWithWhitespace:c}=a;if(m.length===0)return null;if(m.length===1&&!c){let R=m[0],A=o.filter(P=>P.startsWith(R));return{kind:"cmd",prefix:R,matches:A,buildValue:P=>P}}let h=m[0],y=t.get(h);if(!y?.complete)return null;let E=m.slice(1),w=c?"":E[E.length-1]??"",C=c?E.length:Math.max(0,E.length-1),T={line:d,tokens:m,args:E,endsWithWhitespace:c,argIndex:C,prefix:w},v=y.complete(e(),T)||[];return{kind:`arg:${h}`,prefix:w,matches:v,buildValue:R=>[...c?m:m.slice(0,-1),Xt(R)].join(" ")}}function r(d){let a=l(d);if(!a)return[];let m=new Set,c=[];for(let h of a.matches){let y=a.buildValue(h);m.has(y)||(m.add(y),c.push(y))}return c}function s(d){if(i?.phase==="menu"){let c=i.values.indexOf(d);if(c!==-1){let h=(c+1)%i.values.length;return i.index=h,i.lastValue=i.values[h],i.lastValue}i=null}let a=N(d);if(a.tokens.length===0)return"";let m=l(d,a);return m?u(m.kind,d,m.prefix,m.matches,m.buildValue)??d:d}function u(d,a,m,c,h){if(c.length===0)return i=null,null;if(c.length===1)return i=null,h(c[0]);let y=Zt(c),E=Jt(c);if(E.length>m.length){let C=h(E);return i={phase:"armed",kind:d,baseInput:C,prefix:E,matchesKey:y,values:c.map(h),index:-1,lastValue:null},C}if(!(i&&i.kind===d&&i.baseInput===a&&i.prefix===m&&i.matchesKey===y))return i={phase:"armed",kind:d,baseInput:a,prefix:m,matchesKey:y,values:c.map(h),index:-1,lastValue:null},null;if(i?.phase==="armed")return n(c),i.phase="listed",null;if(i?.phase==="listed"){let C=i.values[0];return i.phase="menu",i.index=0,i.lastValue=C,C}return null}return{autocomplete:s,listCompletions:r}}function Xt(t){return/\s/.test(t)?`"${t.replace(/"/g,'\\"')}"`:t}function Jt(t){if(t.length===0)return"";let e=t[0];for(let n=1;n<t.length;n++){let o=t[n],i=0;for(;i<e.length&&i<o.length&&e[i]===o[i];)i++;if(e=e.slice(0,i),e==="")break}return e}function Zt(t){return t.join("\0")}var M=t=>({type:"text",text:t}),L=(t,e)=>({type:"span",className:t,text:e}),te=(t,e)=>({type:"link",href:t,text:e});function ct({renderer:t,profile:e,fs:n,commands:o,openUrl:i,theme:l,isMobile:r}){let s={history:[],historyIndex:-1,hasRunCommand:!1,hasBooted:!1},u="status: work-in-progress";function d(){s.hasBooted=!0,a()}function a(){t.clear(),E(),T([M("Type "),L("accent","help"),M(` to see commands.
`),L("accent","Tips: "),M(r?'use the command buttons below, or tap "Custom" to type commands with autocomplete and history.':"use \u2191/\u2193 for history and Tab for autocomplete (Shift+Tab to move focus).")],"muted"),t.scrollToBottom()}function m(){!s.hasBooted||s.hasRunCommand||a()}function c(p){return p.reduce((g,k)=>Math.max(g,k.length),0)}function h(p,g){return p.length<=g?p:g<=1?"\u2026":`${p.slice(0,g-1)}\u2026`}function y(p,g){let k=h(p,g),S=Math.max(0,g-k.length),I=Math.floor(S/2),H=S-I;return{leftPad:" ".repeat(I),text:k,rightPad:" ".repeat(H)}}function E(){let p=e.nameAsciiArt??[],g=c(p),k=t.getColumns();if(p.length>0&&g<=k){v(p.join(`
`),"accent"),T(e.role,"muted"),T([L("accent",u)],"muted");return}w()}function w(){let p=String(e.name).trim()||"Portfolio",g=String(e.role).trim()||"Software Engineer",k=t.getColumns(),S=C(k-6,10,54),I=Math.min(20,S),H=Math.max(p.length,g.length,I-4),$=C(H+4,I,S),z=`\u256D${"\u2500".repeat($+2)}\u256E`,Bt=`\u251C${"\u2500".repeat($+2)}\u2524`,Ft=`\u2570${"\u2500".repeat($+2)}\u256F`,Z=(jt,Nt=!0)=>{let V=y(jt,$);return[L("banner-border","\u2502 "),L("banner-border",V.leftPad),L("banner-text",V.text),L("banner-border",V.rightPad),L("banner-border",Nt?` \u2502
`:" \u2502")]},Dt=[L("banner-border",`${z}
`),...Z(p),L("banner-border",`${Bt}
`),...Z(g),L("banner-border",Ft)];T(Dt,"banner",!1),T([L("accent",u)],"muted")}function C(p,g,k){return Math.max(g,Math.min(k,p))}function T(p,g="ok",k=!0){let S=Array.isArray(p)?p:[M(String(p))];t.printLine(S,g,k)}function v(p,g="ok"){t.printPre(String(p),g)}function R(p){T([L("cmd","$"),M(" "),L("cmd",p)],"cmd")}function A(){return at(n)}function P(p){return lt(n,p)}function U(){return{profile:e,fs:n,theme:l,openUrl:i,printLine:T,printPre:v,seg:{t:M,s:L,l:te},listHome:A,resolveHomeItem:P,clear:t.clear}}let f=mt({commands:o,getContext:U,onListMatches:p=>{let g=[];p.forEach((k,S)=>{S&&g.push(M("   ")),g.push(L("accent",k))}),T(g,"muted"),t.scrollToBottom()}});async function b(p){let g=p.trim();if(!g)return;s.hasRunCommand=!0,R(g);let k=N(g),[S,...I]=k.tokens,H=o.get(S);if(!H){T([M("Command not found: "),L("error",S)],"error"),T([M("Try: "),L("accent","help")],"muted");return}try{await H.execute(U(),I)}catch($){let z=$ instanceof Error?$.message:String($);T([L("error","Error:"),M(" "),M(z)],"error")}}function x(p){s.history.push(p),s.historyIndex=s.history.length}function _(){return s.history.length===0?null:(s.historyIndex=Math.max(0,s.historyIndex-1),s.history[s.historyIndex]??"")}function B(){return s.history.length===0?null:(s.historyIndex=Math.min(s.history.length,s.historyIndex+1),s.history[s.historyIndex]??"")}function J(p=6){let g=Math.max(0,Math.floor(p));if(g===0)return[];let k=[],S=new Set;for(let I=s.history.length-1;I>=0;I--){let H=s.history[I]??"";if(!(H.length===0||S.has(H))&&(S.add(H),k.push(H),k.length>=g))break}return k}return{boot:d,run:b,addHistory:x,historyUp:_,historyDown:B,listRecentHistory:J,listCompletions:p=>f.listCompletions(p),autocomplete:p=>f.autocomplete(p),refreshIntroIfPristine:m}}var O={name:"Bradley Watson",nameAsciiArt:["____________  ___ ______   _    _  ___ _____ _____  _____ _   _","| ___ \\ ___ \\/ _ \\|  _  \\ | |  | |/ _ \\_   _/  ___||  _  | \\ | |","| |_/ / |_/ / /_\\ \\ | | | | |  | / /_\\ \\| | \\ `--. | | | |  \\| |","| ___ \\    /|  _  | | | | | |/\\| |  _  || |  `--. \\| | | | . ` |","| |_/ / |\\ \\| | | | |/ /  \\  /\\  / | | || | /\\__/ /\\ \\_/ / |\\  |","\\____/\\_| \\_\\_| |_/___/    \\/  \\/\\_| |_/\\_/ \\____/  \\___/\\_| \\_/"],role:"Software Engineer",location:"Leeds, UK",email:"br@dley.dev",links:{github:"https://github.com/br-watson",linkedin:"https://www.linkedin.com/in/bradleyrwatson"},filePaths:{cv:"./assets/cv.pdf",dissertation:"./assets/diss.pdf"},bio:["Software engineer specializing in backend systems, cloud platforms, CI/CD automation, and end-to-end data pipelines, building reliable, scalable production systems.","Current interests: distributed systems design, event-driven data pipelines, observability, CI/CD, and developer tooling for cloud-native backends.","This site is a small terminal-style portfolio because standard portfolio sites are kinda boring."],projects:[{name:"Terminal Portfolio",desc:"This project! An interactive terminal-style portfolio built with TypeScript, HTML, and CSS.",repoLink:"https://github.com/br-watson/br-watson.github.io",deployedLink:"https://bwatson.uk",tags:["TypeScript","HTML","CSS"]},{name:"Darts Score Tracker",desc:"All the darts trackers my friends and I could find were either too basic or couldn't handle more than 4 players, so I built this simple one to track our games and stats.",repoLink:"https://github.com/br-watson/darts-games",deployedLink:"https://bwatson.uk/darts-games",tags:["TypeScript","React","Next.js","Tailwind CSS"]},{name:"Planning Poker App",desc:"Built a free, no-login planning poker app for my team's sprint refinements after existing tools were paid or lacked custom decks. It supports multiple rooms, custom card sets, and real-time updates.",deployedLink:"https://poker.bwatson.uk/",tags:["TypeScript","React","Tailwind CSS","Firebase"]}],skills:["TypeScript","AWS","TODO..."],education:[{qualification:"Master of Mathematics (MMath)",institution:"Durham University",location:"Durham, UK",startDate:"2018",endDate:"2022",grade:"First Class Honours (1st)",description:"Specialised in mathematical analysis, geometry, and algebra. Dissertation on isometries of Riemannian manifolds.",tags:["Mathematical analysis","Geometry","Algebra","Calculus","Linear algebra","Partial differential equations"],dissertation:{title:"Isometries of Riemannian Manifolds",link:"./assets/diss.pdf"}},{qualification:"A-Levels",institution:"Notre Dame Sixth Form College",location:"Leeds, UK",startDate:"2016",endDate:"2018",grade:"A*AAA",tags:["Mathematics","Further Mathematics","Computer Science","Chemistry"]}],roles:[{title:"Software Engineer",company:"Sky UK",location:"Leeds, UK",startDate:"Sep 2024"},{title:"Associate Software Engineer",company:"Sky UK",location:"Leeds, UK",startDate:"Sep 2023",endDate:"Sep 2024"}],todo:["Finish writing profile (experience, projects, skills etc.)","Add more commands","Improve txt files output formatting","Make actual CV","Make sure accessibility is good","Make sure performance is good","Write tests (TDD kinda went out the window for this project)","Cap retained terminal output and command history","Optimize autocomplete: cache command/completion data and avoid full mobile suggestion list rerenders on each input."]};function dt(t){return function(n){let o=new Set(["https:","mailto:"]),i;try{if(i=new URL(n,window.location.href),!o.has(i.protocol)&&i.origin!==window.location.origin){t.show("Blocked unsafe URL");return}}catch{t.show("Invalid URL");return}if(i.protocol==="mailto:"){window.location.assign(i.toString());return}window.open(i.toString(),"_blank","noopener,noreferrer")}}function ee(t){requestAnimationFrame(()=>{t.selectionStart=t.selectionEnd=t.value.length})}function G(t,e){t.value=e,ee(t)}function ut({form:t,input:e,terminal:n,onRunCommand:o}){let i=!1;function l(){i||(i=!0,e.removeAttribute("placeholder"))}function r(){e.focus({preventScroll:!0})}async function s(){let a=e.value.trim();if(e.value="",a.length===0){r();return}await o(a),r()}function u(){t.addEventListener("submit",a=>{a.preventDefault(),s()})}function d(){e.addEventListener("keydown",a=>{if(!(a.altKey||a.ctrlKey||a.metaKey)){if(a.key==="ArrowUp"){a.preventDefault();let m=n.historyUp();if(m===null)return;G(e,m)}if(a.key==="ArrowDown"){a.preventDefault();let m=n.historyDown();if(m===null)return;G(e,m)}if(a.key==="Tab"){if(a.shiftKey)return;a.preventDefault(),G(e,n.autocomplete(e.value))}}})}return u(),d(),{focus:r,markFirstCommandSubmitted:l}}var pt="terminal-theme";function ne(t){return t==="light"||t==="dark"}function ft(t){return t.toLowerCase()==="light"?"light":"dark"}function gt(t){return t.toLowerCase()==="light"?"dark":"light"}function ht({themeToggle:t,toast:e,storage:n=window.localStorage,doc:o=document,matchMedia:i=window.matchMedia?.bind(window)}){function l(){let c=n.getItem(pt);return ne(c)?c:null}function r(){return i?.("(prefers-color-scheme: light)")?.matches?"light":"dark"}let s=l()??r(),u=ft(s);function d(c,h={}){let{persist:y=!0,announce:E=!0,force:w=!1}=h,C=ft(c),T=C!==u;if(u=C,(T||w)&&(o.documentElement.dataset.theme=C,t)){let v=gt(C);t.setAttribute("aria-pressed",String(C==="light")),t.setAttribute("aria-label",`Switch to ${v.toLowerCase()} theme`),t.textContent=v}y&&n.setItem(pt,C),E&&T&&e.show(`theme: ${C}`)}let a={get:()=>u,set:c=>d(c,{persist:!0,announce:!0}),toggle:()=>d(gt(u),{persist:!0,announce:!0})};t&&t.addEventListener("click",()=>a.toggle());function m(){d(s,{persist:!1,announce:!1,force:!0})}return{controller:a,applyInitialTheme:m}}function yt(t,e=1500){let n;function o(i){t&&(t.textContent=i,t.classList.add("show"),t.setAttribute("aria-hidden","false"),n&&window.clearTimeout(n),n=window.setTimeout(()=>{t.classList.remove("show"),t.setAttribute("aria-hidden","true")},e))}return{show:o}}function bt({screen:t}){function e(){let a=document.createElement("span");a.className="line ok",a.style.position="absolute",a.style.visibility="hidden",a.style.whiteSpace="pre",a.textContent="M",t.appendChild(a);let m=a.getBoundingClientRect().width;return t.removeChild(a),m||8}function n(){let a=e();return Math.max(1,Math.floor(t.clientWidth/a))}function o(a){let m=new Set(["https:","mailto:"]);try{let c=new URL(a,window.location.href);return m.has(c.protocol)||c.origin===window.location.origin?c:null}catch{return null}}function i(a){if(a.type==="text")return document.createTextNode(a.text);if(a.type==="span"){let m=document.createElement("span");return m.className=a.className,m.textContent=a.text,m}if(a.type==="link"){let m=o(a.href);if(!m)return document.createTextNode(a.text??a.href);let c=document.createElement("a");return c.href=m.toString(),m.protocol!=="mailto:"&&(c.target="_blank",c.rel="noopener noreferrer"),c.textContent=a.text??a.href,c}return document.createTextNode("")}function l(a){let m=document.createDocumentFragment();for(let c of a)m.appendChild(i(c));return m}function r(a,m="ok",c=!0){let h=document.createElement("div");h.className="block",c&&h.classList.add("wrap-text");let y=document.createElement("div");y.className=`line ${m}`,c&&y.classList.add("wrap-text"),y.appendChild(l(a)),h.appendChild(y),t.appendChild(h)}function s(a,m="ok"){let c=document.createElement("div");c.className="block";let h=document.createElement("div");h.className=`line ${m}`;let y=document.createElement("pre");y.className="pre",y.textContent=a,h.appendChild(y),c.appendChild(h),t.appendChild(c)}function u(){for(;t.firstChild;)t.removeChild(t.firstChild)}function d(){t.scrollTop=t.scrollHeight}return{printLine:r,printPre:s,clear:u,scrollToBottom:d,getColumns:n}}function oe(t){requestAnimationFrame(()=>{t.selectionStart=t.selectionEnd=t.value.length})}function Ct(t,e){t.value=e,oe(t)}function Tt(t){t.scrollLeft=0,t.scrollTo({left:0,top:0,behavior:"auto"}),requestAnimationFrame(()=>{t.scrollLeft=0})}function ie(t){let e=[],n=new Set;for(let o of t){let i=o.command.trim();if(!i)continue;let l=o.kind??"simple",r=`${l}:${i}`;n.has(r)||(n.add(r),e.push({command:i,kind:l,label:o.label?.trim()||i}))}return e}function kt(t,e,n){let o=document.createElement("button");return o.type="button",o.className=e==="arg"?"mobile-command mobile-command-arg":"mobile-command",o.textContent=t.label,o.setAttribute("aria-label",e==="arg"?`Run ${n??t.command}`:t.kind==="withArgs"?`Choose ${t.command} argument`:`Run ${t.command}`),e==="arg"&&n?(o.dataset.run=n,o):(o.dataset.command=t.command,o.dataset.kind=t.kind,o)}function re(t){return t.length<2?t:t.startsWith('"')&&t.endsWith('"')?t.slice(1,-1).replace(/\\"/g,'"'):t}function se(t,e){let n=`${t} `;if(!e.startsWith(n))return e;let o=e.slice(n.length).trim();return re(o)||e}function ae(t,e){let n=`${t} `,o=e.listCompletions(n),i=[],l=new Set;for(let r of o){let s=r.trim();!s||!s.startsWith(n)||l.has(s)||(l.add(s),i.push(s))}return i}function le(t,e){let n=document.createElement("button");return n.type="button",n.className="mobile-custom-suggestion",n.dataset.kind=e,n.dataset.value=t,n.textContent=t,n.title=t,n.setAttribute("aria-label",`Insert ${t}`),n}function me(t,e){let n=t.trim().length===0,o=n?"history":"completion",i=n?e.listRecentHistory(6):e.listCompletions(t);return{type:o,values:i.slice(0,6)}}function ce(t,e,n){if(n==="completion"){let o=/\s$/.test(e)?e:`${e} `;Ct(t,o);return}Ct(t,e)}function Lt({enabled:t,container:e,list:n,back:o,customTrigger:i,dialog:l,form:r,input:s,suggestions:u,suggestionsHint:d,cancel:a,terminal:m,commands:c,onRunCommand:h}){if(!t){e instanceof HTMLElement&&(e.hidden=!0),l instanceof HTMLElement&&(l.hidden=!0);return}if(!(e instanceof HTMLElement)||!(n instanceof HTMLElement)||!(o instanceof HTMLButtonElement)||!(i instanceof HTMLButtonElement)||!(l instanceof HTMLElement)||!(r instanceof HTMLFormElement)||!(s instanceof HTMLInputElement)||!(u instanceof HTMLElement)||!(d instanceof HTMLElement)||!(a instanceof HTMLButtonElement))return;let y=ie(c),E=!1,w=!1,C=f=>{l.hidden=!f,l.setAttribute("aria-hidden",f?"false":"true"),i.setAttribute("aria-expanded",f?"true":"false")},T=async f=>{let b=f.trim();if(!(b.length===0||E)){E=!0;try{await h(b)}finally{E=!1}}},v=()=>{w=!1,n.replaceChildren(...y.map(f=>kt(f,"root"))),n.setAttribute("aria-label","Quick commands"),Tt(n),o.hidden=!0,i.hidden=!1},R=f=>{let b=ae(f,m);if(b.length===0){(async()=>(await T(f),v()))();return}w=!0,n.setAttribute("aria-label",`Choose ${f} argument`);let x=b.map(_=>kt({command:f,kind:"simple",label:se(f,_)},"arg",_));n.replaceChildren(...x),Tt(n),o.hidden=!1,i.hidden=!0},A=()=>{let{type:f,values:b}=me(s.value,m);u.replaceChildren(...b.map(x=>le(x,f))),u.hidden=b.length===0,d.hidden=b.length>0},P=()=>{C(!1),s.value="",A(),s.blur(),i.hidden||i.focus({preventScroll:!0})},U=()=>{C(!0),A(),requestAnimationFrame(()=>{s.focus({preventScroll:!0})})};v(),e.hidden=!1,C(!1),A(),n.addEventListener("click",f=>{let b=f.target;if(!(b instanceof Element))return;let x=b.closest("button[data-run]");if(x instanceof HTMLButtonElement){let p=x.dataset.run?.trim();if(!p)return;(async()=>(await T(p),v()))();return}let _=b.closest("button[data-command]");if(!(_ instanceof HTMLButtonElement))return;let B=_.dataset.command?.trim();if(!B)return;if(_.dataset.kind==="withArgs"){R(B);return}(async()=>(await T(B),v()))()}),o.addEventListener("click",()=>{v()}),i.addEventListener("click",U),a.addEventListener("click",P),s.addEventListener("input",()=>{A()}),u.addEventListener("click",f=>{let b=f.target;if(!(b instanceof Element))return;let x=b.closest("button[data-value]");if(!(x instanceof HTMLButtonElement))return;let _=x.dataset.value;if(!_)return;let B=x.dataset.kind;ce(s,_,B),A()}),l.addEventListener("click",f=>{let b=f.target;b instanceof Element&&b.closest("[data-dialog-close]")&&P()}),document.addEventListener("keydown",f=>{if(f.key==="Escape"){if(!l.hidden){f.preventDefault(),P();return}w&&(f.preventDefault(),v())}}),r.addEventListener("submit",f=>{f.preventDefault();let b=s.value.trim();b&&(async()=>(await T(b),P(),v()))()})}function Et({container:t,list:e,profile:n,onRunCommand:o,aliases:i}){if(!(t instanceof HTMLElement)||!(e instanceof HTMLElement))return;let l=F(n),r=i.filter(s=>l.has(s)).map(s=>`open ${s}`);if(e.replaceChildren(),r.length===0){t.hidden=!0;return}for(let s of r){let u=document.createElement("button");u.type="button",u.className="quick-link",u.dataset.command=s,u.setAttribute("aria-label",`Run ${s}`),u.title=s;let d=document.createElement("span");d.className="quick-link-sigil",d.textContent="$";let a=document.createElement("span");a.textContent=s,u.append(d,a),e.appendChild(u)}e.addEventListener("click",async s=>{let u=s.target;if(!(u instanceof Element))return;let d=u.closest("button[data-command]");if(!(d instanceof HTMLButtonElement))return;let a=d.dataset.command?.trim();a&&(s.detail>0&&d.blur(),await o(a))}),t.hidden=!1}function Y(t,e,n){if(!t||!e(t))throw new Error(n);return t}var de=Y(document.getElementById("screen"),t=>t instanceof HTMLElement,"Screen element not found."),ue=Y(document.getElementById("prompt"),t=>t instanceof HTMLFormElement,"Prompt form element not found."),pe=Y(document.getElementById("input"),t=>t instanceof HTMLInputElement,"Prompt input element not found."),fe=document.getElementById("themeToggle"),ge=document.getElementById("toast"),vt=document.querySelector(".title"),St=document.querySelector(".ps1"),he=document.getElementById("quickLinks"),ye=document.getElementById("quickLinksList"),be=document.getElementById("mobileCommandTray"),Ce=document.getElementById("mobileCommandList"),xt=document.getElementById("mobileTrayBack"),Mt=document.getElementById("mobileCustomTrigger"),Te=document.getElementById("mobileCommandDialog"),wt=document.getElementById("mobileCustomForm"),_t=document.getElementById("mobileCustomInput"),ke=document.getElementById("mobileCustomSuggestions"),Le=document.getElementById("mobileCustomSuggestionsHint"),It=document.getElementById("mobileCustomCancel"),j=window.matchMedia("(pointer: coarse)").matches,At="brad@portfolio",Ht=["help","contact","bio","projects","roles","education","cv"];function Ee(t){let e=Array.from(t.values()),n=new Set(Ht),o=[];for(let l of Ht){let r=t.get(l);r&&o.push(r)}return[...o,...e.filter(l=>!n.has(l.name))].map(l=>({command:l.name,kind:typeof l.complete=="function"?"withArgs":"simple"}))}vt&&(vt.textContent=`${At}: ~`);St&&(St.textContent=At);var Pt=yt(ge),{controller:ve,applyInitialTheme:Se}=ht({themeToggle:fe,toast:Pt}),xe=dt(Pt),Rt=bt({screen:de}),{commands:$t}=it({profile:O,isMobile:j}),D=ct({renderer:Rt,profile:O,fs:rt(O),commands:$t,theme:ve,openUrl:xe,isMobile:j}),Me=Ee($t),K=null,Q=!1;async function X(t){let e=t.trim();if(!(e.length===0||Q)){Q=!0;try{K?.markFirstCommandSubmitted(),D.addHistory(e),await D.run(e),Rt.scrollToBottom()}finally{Q=!1}j||K?.focus()}}K=ut({form:ue,input:pe,terminal:D,onRunCommand:X});Et({container:he,list:ye,profile:O,aliases:["cv","github","linkedin","email"],onRunCommand:X});Lt({enabled:j,container:be,list:Ce,back:xt instanceof HTMLButtonElement?xt:null,customTrigger:Mt instanceof HTMLButtonElement?Mt:null,dialog:Te,form:wt instanceof HTMLFormElement?wt:null,input:_t instanceof HTMLInputElement?_t:null,suggestions:ke,suggestionsHint:Le,cancel:It instanceof HTMLButtonElement?It:null,terminal:D,commands:Me,onRunCommand:X});Se();D.boot();j||K?.focus();var W=0;window.addEventListener("resize",()=>{W&&cancelAnimationFrame(W),W=requestAnimationFrame(()=>{D.refreshIntroIfPristine(),W=0})});if(j){let t=0;document.addEventListener("touchend",e=>{if(!e.cancelable||e.touches.length>0)return;let n=performance.now();n-t<=300&&e.preventDefault(),t=n},{passive:!1})}
